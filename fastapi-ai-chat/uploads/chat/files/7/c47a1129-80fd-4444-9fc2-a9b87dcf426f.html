<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FastAPI AI Chat</title>
    <style>
      :root {
        color-scheme: light;
        --primary-gradient: linear-gradient(135deg, #2dd4bf 0%, #0ea5e9 100%);
        --secondary-gradient: linear-gradient(135deg, #f97316 0%, #fb7185 100%);
        --success-gradient: linear-gradient(135deg, #22c55e 0%, #10b981 100%);
        --warning-gradient: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);
        --danger-gradient: linear-gradient(135deg, #ef4444 0%, #f97316 100%);
        --card-shadow: 0 14px 40px rgba(15, 23, 42, 0.12);
        --card-shadow-hover: 0 20px 60px rgba(15, 23, 42, 0.18);
        --border-radius: 16px;
        --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        --ink-900: #0f172a;
        --ink-700: #334155;
        --ink-500: #64748b;
        --paper: #f8fafc;
        --glass: rgba(255,255,255,0.7);
      }

      * {
        box-sizing: border-box;
      }

      body {
        font-family: "Sora", "Poppins", "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        margin: 0;
        padding: 0;
        background:
          radial-gradient(1000px 600px at 10% -10%, rgba(14, 165, 233, 0.18), transparent 60%),
          radial-gradient(900px 500px at 110% 10%, rgba(45, 212, 191, 0.16), transparent 60%),
          linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        min-height: 100vh;
        line-height: 1.6;
        color: var(--ink-900);
      }

      #container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 24px;
        animation: fadeInUp 0.6s ease-out;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      /* Enhanced main layout */
      #mainLayout {
        display: flex;
        gap: 32px;
        margin-top: 32px;
      }

      #sidebar {
        width: 320px;
        flex-shrink: 0;
        display: none;
        background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
        border-radius: var(--border-radius);
        box-shadow: var(--card-shadow);
        border: 1px solid rgba(255,255,255,0.8);
        overflow: hidden;
        backdrop-filter: blur(10px);
      }

      #mainContent {
        flex: 1;
        background: linear-gradient(145deg, #ffffff 0%, #f1f5f9 100%);
        border-radius: var(--border-radius);
        box-shadow: var(--card-shadow);
        border: 1px solid rgba(255,255,255,0.8);
        padding: 32px;
        backdrop-filter: blur(14px);
      }

      /* Main title enhancement */
      h2 {
        background: var(--primary-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        font-size: 2.5rem;
        font-weight: 700;
        margin: 0 0 8px 0;
        text-align: center;
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        animation: slideInFromTop 0.8s ease-out;
      }

      @keyframes slideInFromTop {
        from {
          opacity: 0;
          transform: translateY(-30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .sidebar-card {
        background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
        border: 1px solid rgba(255,255,255,0.8);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 4px 16px rgba(0,0,0,0.06);
        transition: var(--transition);
        backdrop-filter: blur(5px);
      }

      .sidebar-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(0,0,0,0.1);
      }

      .sidebar-card h4 {
        margin: 0 0 16px 0;
        color: #2d3748;
        font-size: 1.1rem;
        font-weight: 600;
        background: var(--primary-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      .user-item {
        padding: 12px 0;
        border-bottom: 1px solid rgba(0,0,0,0.06);
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: var(--transition);
        border-radius: 8px;
        margin: 4px 0;
      }

      .user-item:hover {
        background: rgba(102, 126, 234, 0.04);
        padding-left: 8px;
        margin-left: -8px;
        margin-right: -8px;
      }

      .user-item:last-child { border-bottom: none; }
      .user-info { flex: 1; }
      .user-name {
        font-weight: 600;
        color: #2d3748;
        font-size: 0.95rem;
        margin-bottom: 2px;
      }
      .user-email {
        font-size: 0.8rem;
        color: #718096;
        font-weight: 400;
      }
      .request-btn {
        padding: 6px 12px;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        font-size: 0.8rem;
        font-weight: 500;
        transition: var(--transition);
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        min-width: 60px;
      }

      .request-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      }

      .request-btn:active {
        transform: translateY(0);
      }

      .request-btn.pending {
        background: var(--warning-gradient);
        color: #fff;
      }

      .request-btn.send {
        background: var(--success-gradient);
        color: #fff;
      }

      .request-btn.accept {
        background: var(--success-gradient);
        color: #fff;
      }

      .request-btn.decline {
        background: var(--danger-gradient);
        color: #fff;
      }

      .request-btn.cancel {
        background: linear-gradient(135deg, #a0aec0 0%, #718096 100%);
        color: #fff;
      }
      .friends-section { margin-top: 24px; }
      .friends-list-title {
        font-size: 0.85rem;
        font-weight: 600;
        color: #4a5568;
        margin: 8px 0;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
      .friends-list-scroll {
        max-height: 280px;
        overflow-y: auto;
        overflow-x: hidden;
        padding-right: 6px;
      }
      #usersList {
        max-height: 280px;
        overflow-y: auto;
        overflow-x: hidden;
        padding-right: 6px;
      }
      #usersList::-webkit-scrollbar { width: 6px; }
      #usersList::-webkit-scrollbar-thumb {
        background: rgba(0,0,0,0.2);
        border-radius: 3px;
      }
      #usersList::-webkit-scrollbar-track {
        background: rgba(0,0,0,0.06);
        border-radius: 3px;
      }
      .friends-list-scroll::-webkit-scrollbar { width: 6px; }
      .friends-list-scroll::-webkit-scrollbar-thumb {
        background: rgba(0,0,0,0.2);
        border-radius: 3px;
      }
      .friends-list-scroll::-webkit-scrollbar-track {
        background: rgba(0,0,0,0.06);
        border-radius: 3px;
      }
      .friends-list-empty {
        color: #718096;
        font-size: 0.9rem;
        padding: 6px 0;
      }

      .card {
        background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
        border: 1px solid rgba(255,255,255,0.8);
        border-radius: var(--border-radius);
        padding: 24px;
        margin-bottom: 24px;
        box-shadow: var(--card-shadow);
        transition: var(--transition);
        backdrop-filter: blur(5px);
        animation: slideInUp 0.5s ease-out;
      }

      .card:hover {
        box-shadow: var(--card-shadow-hover);
        transform: translateY(-2px);
      }

      .card h3 {
        margin: 0 0 20px 0;
        color: var(--ink-900);
        font-size: 1.65rem;
        font-weight: 700;
        letter-spacing: -0.02em;
      }

      .row {
        display: flex;
        gap: 16px;
        flex-wrap: wrap;
        margin-bottom: 16px;
      }

      .row .field {
        flex: 1;
        min-width: 240px;
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      label {
        font-size: 0.9rem;
        color: #4a5568;
        font-weight: 500;
        margin-bottom: 4px;
      }

      input {
        padding: 12px 16px;
        border: 2px solid #e2e8f0;
        border-radius: 8px;
        font-size: 1rem;
        transition: var(--transition);
        background: #fff;
      }

      input:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      input::placeholder {
        color: #a0aec0;
      }

      button {
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        background: var(--primary-gradient);
        color: #fff;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 500;
        transition: var(--transition);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        min-width: 120px;
      }

      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
      }

      button:active {
        transform: translateY(0);
      }

      button:disabled {
        background: #a0aec0;
        cursor: not-allowed;
        transform: none;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }

      @keyframes slideInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      #messages { border: 1px solid #ddd; border-radius: 6px; padding: 10px; min-height: 300px; margin-bottom: 10px; overflow-y: auto; background: #fff; }
      .msg { margin: 6px 0; }
      .msg.user { color: #1b5e20; }
      .msg.bot { color: #0d47a1; }
      #inputRow { display: flex; gap: 8px; }
      #status { font-size: 13px; color: #444; }

      /* Footer styles */
      #footer {
        text-align: center;
        padding: 24px;
        margin-top: 32px;
        font-size: 14px;
        color: #718096;
        font-weight: 500;
        letter-spacing: 0.5px;
        animation: fadeInUp 0.8s ease-out 0.3s both;
        cursor: pointer;
        user-select: none;
        transition: var(--transition);
      }

      #footer:hover {
        color: #667eea;
      }

      #footer a {
        color: inherit;
        text-decoration: none;
        transition: var(--transition);
      }

      #footer a:hover {
        color: #667eea;
      }

      /* Modal styles */
      .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        z-index: 2000;
        animation: fadeIn 0.3s ease-out;
      }

      .modal-overlay.show {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .modal-content {
        background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
        border-radius: var(--border-radius);
        padding: 48px 32px;
        max-width: 500px;
        width: 90%;
        text-align: center;
        box-shadow: 0 25px 60px rgba(0,0,0,0.3);
        animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        border: 1px solid rgba(255,255,255,0.8);
      }

      .modal-content h1 {
        background: var(--primary-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        font-size: 2.5rem;
        margin: 0 0 16px 0;
        font-weight: 700;
      }

      .modal-content p {
        font-size: 1.1rem;
        color: #718096;
        margin: 0 0 32px 0;
        line-height: 1.8;
      }

      .modal-close {
        background: var(--primary-gradient);
        color: white;
        border: none;
        padding: 12px 32px;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
      }

      .modal-close:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
      }

      .modal-close:active {
        transform: translateY(0);
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }


      /* Chat window styles - Enhanced and Modern */
      .chat-window {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 700px;
        height: 720px;
        max-width: 90vw;
        max-height: 98vh;
        background: linear-gradient(145deg, #ffffff 0%, #f1f5f9 100%);
        border: 1px solid rgba(255,255,255,0.7);
        border-radius: var(--border-radius);
        box-shadow: 0 25px 60px rgba(0,0,0,0.2), 0 12px 24px rgba(0,0,0,0.15);
        display: none;
        flex-direction: column;
        z-index: 1000;
        backdrop-filter: blur(20px);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1), border 0.2s ease, background-color 0.2s ease;
        transform: translateY(100px) scale(0.95);
        opacity: 0;
        user-select: none;
        overflow: hidden;
      }

      .chat-window.show {
        transform: translateY(0) scale(1);
        opacity: 1;
      }

      /* Responsive Design */
      @media (max-width: 1024px) {
        #container {
          padding: 16px;
        }

        #mainLayout {
          gap: 24px;
        }

        #sidebar {
          width: 280px;
        }

        #mainContent {
          padding: 24px;
        }

        .chat-window {
          width: 600px;
          height: 650px;
        }
      }

      @media (max-width: 768px) {
        #container {
          padding: 12px;
        }

        #mainLayout {
          flex-direction: column;
          gap: 16px;
        }

        #sidebar {
          width: 100%;
          order: 2;
        }

        #mainContent {
          order: 1;
          padding: 20px;
        }

        .chat-window {
          width: 95vw;
          height: 90vh;
          max-width: 650px;
          max-height: 700px;
          bottom: 10px;
          right: 10px;
          left: 10px;
          margin: 0 auto;
        }

        h2 {
          font-size: 2rem;
        }
      }

      @media (max-width: 480px) {
        #container {
          padding: 8px;
        }

        #mainContent {
          padding: 16px;
        }

        .row .field {
          min-width: 100%;
        }

        .action-buttons {
          flex-direction: column;
        }

        .action-btn {
          width: 100%;
        }

        .chat-window {
          width: 98vw;
          height: 90vh;
          bottom: 5px;
          right: 5px;
          left: 5px;
        }

        h2 {
          font-size: 1.8rem;
        }

        .card h3 {
          font-size: 1.3rem;
        }
      }

      .chat-header {
        background: linear-gradient(135deg, #0ea5e9 0%, #2dd4bf 100%);
        color: #fff;
        padding: 20px 24px;
        border-radius: var(--border-radius) var(--border-radius) 0 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        backdrop-filter: blur(10px);
      }

      .chat-title {
        font-weight: 600;
        font-size: 1.1rem;
        letter-spacing: 0.5px;
        margin: 0;
      }

      .chat-close {
        background: rgba(255,255,255,0.15);
        border: 1px solid rgba(255,255,255,0.2);
        color: #fff;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        padding: 0;
        border-radius: 8px;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: var(--transition);
        backdrop-filter: blur(8px);
        position: relative;
        overflow: hidden;
      }

      .chat-close::before,
      .chat-close::after {
        content: '';
        position: absolute;
        width: 14px;
        height: 2px;
        background: #fff;
        border-radius: 1px;
        transition: var(--transition);
      }

      .chat-close::before {
        transform: rotate(45deg);
      }

      .chat-close::after {
        transform: rotate(-45deg);
      }

      .chat-close:hover {
        background: rgba(255,255,255,0.25);
        border-color: rgba(255,255,255,0.4);
        transform: scale(1.05);
        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
      }

      .chat-close:hover::before,
      .chat-close:hover::after {
        background: #fff;
      }

      .chat-close:active {
        transform: scale(0.95);
        transition: transform 0.1s ease;
      }

      .chat-user-info {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        padding: 16px 24px;
        border-bottom: 1px solid rgba(0,0,0,0.08);
        display: flex;
        align-items: center;
        gap: 16px;
        backdrop-filter: blur(5px);
      }

      .chat-username {
        font-weight: 600;
        color: #495057;
        font-size: 14px;
        flex: 1;
        text-align: center;
      }

      .user-status {
        width: 8px;
        height: 8px;
        background: #28a745;
        border-radius: 50%;
        border: 2px solid #fff;
        box-shadow: 0 0 0 1px #dee2e6;
      }

      .chat-messages {
        flex: 1;
        padding: 20px;
        overflow-y: auto;
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        background-image:
          radial-gradient(circle at 30px 100px, rgba(14, 165, 233, 0.08) 0%, transparent 50%),
          radial-gradient(circle at 100px 30px, rgba(45, 212, 191, 0.08) 0%, transparent 50%);
        background-attachment: fixed;
        scroll-behavior: smooth;
        border-radius: var(--border-radius) var(--border-radius) 0 0;
      }

      .chat-messages::-webkit-scrollbar {
        width: 6px;
      }

      .chat-messages::-webkit-scrollbar-track {
        background: rgba(0,0,0,0.05);
        border-radius: 3px;
      }

      .chat-messages::-webkit-scrollbar-thumb {
        background: rgba(0,0,0,0.2);
        border-radius: 3px;
      }

      .chat-messages::-webkit-scrollbar-thumb:hover {
        background: rgba(0,0,0,0.3);
      }

      .chat-message {
        margin-bottom: 20px;
        padding: 16px 20px;
        border-radius: 20px;
        max-width: 80%;
        width: fit-content;
        font-size: 15px;
        line-height: 1.5;
        position: relative;
        animation: messageSlideIn 0.3s ease-out;
        word-wrap: break-word;
        overflow-wrap: break-word;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        transition: all 0.2s ease;
        cursor: pointer;
      }

      .chat-message:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.12);
      }

      /* Different hover effects for touch vs non-touch devices */
      @media (hover: hover) and (pointer: fine) {
        .chat-message:hover {
          transform: translateY(-1px) scale(1.01);
          box-shadow: 0 6px 16px rgba(0,0,0,0.15);
          cursor: pointer;
        }

        .chat-message:active {
          transform: translateY(0) scale(0.99);
          transition: all 0.1s ease;
        }
      }

      /* Disable hover effects on touch devices */
      @media (hover: none) {
        .chat-message:hover {
          transform: none;
          box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
      }

      @keyframes messageSlideIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .chat-message.sent {
        background: linear-gradient(135deg, #0ea5e9 0%, #2dd4bf 100%);
        color: #fff;
        margin-left: auto;
        border-bottom-right-radius: 4px;
        box-shadow: 0 2px 10px rgba(14, 165, 233, 0.3);
      }

      .chat-message.received {
        background: #fff;
        color: #495057;
        margin-right: auto;
        border-bottom-left-radius: 4px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        border: 1px solid #e9ecef;
      }

      .chat-input-area {
        display: flex;
        gap: 12px;
        padding: 20px;
        border-top: 1px solid rgba(0,0,0,0.08);
        background: linear-gradient(145deg, #ffffff 0%, #f1f5f9 100%);
        border-radius: 0 0 var(--border-radius) var(--border-radius);
        backdrop-filter: blur(10px);
        box-shadow: 0 -4px 12px rgba(0,0,0,0.05);
        align-items: center;
      }

      .chat-upload-buttons {
        display: flex;
        gap: 8px;
      }

      .chat-upload-btn {
        width: 44px;
        height: 44px;
        border-radius: 50%;
        border: 2px solid #e2e8f0;
        background: #fff;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;
        min-width: 44px; /* override global button min-width */
        transition: var(--transition);
        position: relative;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.06);
      }

      /* Ensure emoji button matches the exact round shape */
      .emoji-btn {
        font-size: 20px;
        line-height: 1;
      }

      .chat-upload-btn:hover {
        border-color: #0ea5e9;
        background: #f8f9ff;
        transform: scale(1.05);
        box-shadow: 0 4px 12px rgba(14, 165, 233, 0.2);
      }

      .chat-upload-btn:active {
        transform: scale(0.95);
      }

      .chat-upload-btn input[type="file"] {
        position: absolute;
        opacity: 0;
        width: 100%;
        height: 100%;
        cursor: pointer;
      }

      .chat-upload-btn svg {
        width: 20px;
        height: 20px;
        fill: #0ea5e9;
      }

      .chat-upload-btn:hover svg {
        fill: #2dd4bf;
      }

      /* Emoji picker styling */
      simple-emoji-picker {
        border-radius: 12px;
        box-shadow: 0 8px 32px rgba(0,0,0,0.15);
        border: 1px solid rgba(255,255,255,0.8);
        background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
        backdrop-filter: blur(10px);
        overflow: hidden;
      }

      /* Responsive positioning for the picker inside chat input area */
      simple-emoji-picker.emoji-picker {
        position: absolute;
        bottom: calc(100% + 8px);
        left: 0;
        z-index: 1100;
        width: min(360px, calc(100vw - 32px));
        height: min(420px, 55vh);
        max-width: calc(100vw - 32px);
        max-height: 55vh;
      }

      @media (max-width: 768px) {
        simple-emoji-picker.emoji-picker {
          left: 50%;
          transform: translateX(-50%);
          width: min(380px, calc(100vw - 16px));
          height: min(360px, 55vh);
          max-height: 55vh;
        }
      }

      /* On very small phones, use a bottom-sheet style full-width picker */
      @media (max-width: 480px) {
        simple-emoji-picker.emoji-picker {
          position: fixed;
          left: 0;
          right: 0;
          bottom: 0;
          transform: none;
          width: 100%;
          max-width: 100%;
          height: 55vh;
          max-height: 55vh;
          border-radius: 16px 16px 0 0;
          padding-bottom: env(safe-area-inset-bottom);
        }
      }

      .chat-input {
        flex: 1;
        padding: 16px 20px;
        border: 2px solid #e2e8f0;
        border-radius: 28px;
        outline: none;
        font-size: 1rem;
        transition: var(--transition);
        background: #fff;
        box-shadow: 0 2px 8px rgba(0,0,0,0.06);
      }

      .chat-input:focus {
        border-color: #0ea5e9;
        background: #fff;
        box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.15), 0 4px 12px rgba(0,0,0,0.08);
        transform: translateY(-1px);
      }

      .chat-input::placeholder {
        color: #a0aec0;
        font-weight: 400;
      }

      .chat-send {
        padding: 16px 32px;
        background: linear-gradient(135deg, #0ea5e9 0%, #2dd4bf 100%);
        color: #fff;
        border: none;
        border-radius: 28px;
        cursor: pointer;
        font-weight: 600;
        font-size: 1rem;
        transition: var(--transition);
        box-shadow: 0 6px 16px rgba(14, 165, 233, 0.3);
        min-width: 100px;
        backdrop-filter: blur(10px);
      }

      .chat-send:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4);
      }

      .chat-send:active {
        transform: translateY(0);
      }

      .chat-send:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }

      /* Read receipts */
      .message-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 4px;
        font-size: 10px;
        opacity: 0.7;
      }

      .chat-message.sent .message-footer {
        justify-content: flex-end;
        flex-direction: row-reverse;
      }

      .read-receipt {
        font-size: 12px;
        color: #000000;
        margin-left: 4px;
        transition: color 0.2s ease;
      }

      .read-receipt.read {
        color: #66ff00;
      }

      .chat-message.sent .read-receipt {
        margin-left: 0;
        margin-right: 4px;
      }

      /* Big 3D-style animated emoji messages (emoji-only messages) */
      .emoji-message {
        font-size: 34px;
        line-height: 1.2;
        text-align: center;
        text-shadow:
          0 2px 0 rgba(0,0,0,0.15),
          0 8px 20px rgba(0,0,0,0.35);
        transform-origin: center;
        animation: emojiPop 0.4s ease-out, emojiFloat 3s ease-in-out infinite 0.4s;
        display: inline-block;
        /* Prefer color emoji fonts across platforms so symbols like ‚ù§ render as emoji */
        font-family: -apple-system, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji', 'EmojiOne Color', sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      @keyframes emojiPop {
        0%   { transform: scale(0.5) translateY(10px); opacity: 0; }
        60%  { transform: scale(1.2) translateY(-4px); opacity: 1; }
        100% { transform: scale(1) translateY(0); }
      }

      @keyframes emojiFloat {
        0%   { transform: translateY(0); }
        50%  { transform: translateY(-6px); }
        100% { transform: translateY(0); }
      }

      @keyframes fadeInOut {
        0% { opacity: 0; transform: translateY(-10px); }
        10% { opacity: 1; transform: translateY(0); }
        90% { opacity: 1; transform: translateY(0); }
        100% { opacity: 0; transform: translateY(-10px); }
      }

      /* File and Image display styles */
      .message-image {
        max-width: 100%;
        max-height: 300px;
        border-radius: 12px;
        margin: 8px 0;
        cursor: pointer;
        transition: transform 0.2s ease;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }

      .message-image:hover {
        transform: scale(1.02);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      }

      .message-file {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 16px;
        background: rgba(255,255,255,0.3);
        border-radius: 12px;
        margin: 8px 0;
        border: 1px solid rgba(0,0,0,0.1);
        transition: var(--transition);
        cursor: pointer;
        text-decoration: none;
        color: inherit;
      }

      .message-file:hover {
        background: rgba(255,255,255,0.5);
        transform: translateX(4px);
      }

      .chat-message.sent .message-file {
        background: rgba(255,255,255,0.2);
      }

      .chat-message.received .message-file {
        background: rgba(255,255,255,0.6);
      }

      .file-icon {
        width: 32px;
        height: 32px;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(102, 126, 234, 0.1);
        border-radius: 8px;
      }

      .file-icon svg {
        width: 20px;
        height: 20px;
        fill: #667eea;
      }

      .file-info {
        flex: 1;
        min-width: 0;
      }

      .file-name {
        font-weight: 600;
        font-size: 14px;
        margin-bottom: 4px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .file-size {
        font-size: 12px;
        opacity: 0.7;
      }

      .message-content-text {
        margin-bottom: 8px;
      }

      .upload-progress {
        display: none;
        padding: 8px 12px;
        background: rgba(102, 126, 234, 0.1);
        border-radius: 8px;
        font-size: 12px;
        color: #667eea;
        margin-top: 8px;
      }

      .upload-progress.active {
        display: block;
      }

      .image-loading-container {
        min-height: 100px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0,0,0,0.02);
        border-radius: 12px;
        margin: 8px 0;
      }

      .file-link-container {
        margin: 8px 0;
      }

      /* Mobile optimizations */
      @media (hover: none) and (pointer: coarse) {
        .chat-close {
          width: 44px;
          height: 44px;
          border-radius: 10px;
        }

        .chat-close::before,
        .chat-close::after {
          width: 16px;
          height: 2px;
        }

        .chat-send {
          min-width: 88px;
          min-height: 44px;
        }

        .chat-input {
          font-size: 16px; /* Prevents zoom on iOS */
        }

        .chat-message {
          font-size: 15px;
          padding: 14px 18px;
        }
      }

      /* Reply indicator styles - WhatsApp/Telegram Style */
      .reply-indicator {
        display: flex;
        align-items: center;
        background: rgba(0, 0, 0, 0.04);
        border-left: 3px solid #667eea;
        border-radius: 0 8px 8px 0;
        padding: 8px 12px;
        margin: 0 0 8px 0;
        position: relative;
        animation: slideInReply 0.2s ease-out;
        backdrop-filter: blur(4px);
      }

      .reply-indicator-content {
        flex: 1;
        display: flex;
        align-items: center;
        gap: 8px;
        min-width: 0;
      }

      .reply-line {
        width: 3px;
        height: 100%;
        background: #667eea;
        border-radius: 2px;
        flex-shrink: 0;
      }

      .reply-info {
        flex: 1;
        min-width: 0;
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .reply-to {
        font-size: 12px;
        font-weight: 600;
        color: #667eea;
        margin: 0;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .reply-preview {
        font-size: 13px;
        color: #4a5568;
        margin: 0;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        opacity: 0.8;
      }

      .reply-cancel {
        background: rgba(0, 0, 0, 0.05);
        border: none;
        color: #666;
        font-size: 16px;
        font-weight: normal;
        cursor: pointer;
        padding: 0;
        margin-left: 8px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
        flex-shrink: 0;
        width: 24px;
        height: 24px;
        min-width: 24px;
        min-height: 24px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }

      .reply-cancel:hover {
        background: rgba(0, 0, 0, 0.15);
        color: #333;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
        transform: scale(1.05);
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideDownReply {
        from {
          opacity: 0;
          transform: translateY(-20px) scale(0.95);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      @keyframes slideInReply {
        from {
          opacity: 0;
          transform: translateY(-8px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes pulseGlow {
        0%, 100% {
          box-shadow: 0 4px 20px rgba(102, 126, 234, 0.15), 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        50% {
          box-shadow: 0 4px 25px rgba(102, 126, 234, 0.25), 0 2px 8px rgba(0, 0, 0, 0.1);
        }
      }

      /* Reply message styles - Modern Design */
      .message-reply {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 12px;
        padding: 12px 16px;
        background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);
        border: 1px solid rgba(102, 126, 234, 0.15);
        border-left: 4px solid #667eea;
        border-radius: 12px;
        animation: fadeInReply 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(4px);
        position: relative;
        overflow: hidden;
      }

      .message-reply::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0.1) 100%);
        pointer-events: none;
      }

      .reply-line {
        width: 3px;
        height: 100%;
        background: linear-gradient(135deg, #667eea, #764ba2);
        border-radius: 2px;
        opacity: 0.8;
        box-shadow: 0 0 8px rgba(102, 126, 234, 0.4);
      }

      .reply-content {
        flex: 1;
        min-width: 0;
        position: relative;
        z-index: 1;
      }

      .reply-sender {
        font-size: 13px;
        font-weight: 700;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 4px;
        letter-spacing: 0.2px;
      }

      .reply-text {
        font-size: 14px;
        color: #4a5568;
        opacity: 0.9;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        font-weight: 500;
        line-height: 1.4;
      }

      @keyframes fadeInReply {
        from {
          opacity: 0;
          transform: translateX(-10px) scale(0.95);
        }
        to {
          opacity: 1;
          transform: translateX(0) scale(1);
        }
      }

      /* Reply indicator responsive design */
      /* Tablet and larger mobile devices */
      @media (max-width: 1024px) {
        .reply-indicator {
          padding: 10px 14px;
          margin: 0 0 10px 0;
        }

        .reply-indicator-content {
          gap: 10px;
        }

        .reply-line {
          width: 3px;
        }

        .reply-to {
          font-size: 12px;
        }

        .reply-preview {
          font-size: 13px;
        }
      }

      /* Mobile devices */
      /* Mobile devices */
      @media (max-width: 768px) {
        .reply-indicator {
          padding: 8px 12px;
          margin: 0 0 8px 0;
          border-radius: 0 6px 6px 0;
        }

        .reply-indicator-content {
          gap: 8px;
        }

        .reply-line {
          width: 3px;
        }

        .reply-to {
          font-size: 12px;
        }

        .reply-preview {
          font-size: 13px;
        }

        .reply-cancel {
          width: 22px;
          height: 22px;
          font-size: 14px;
          margin-left: 6px;
          min-width: 22px;
          min-height: 22px;
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
      }

      /* Small mobile devices */
      @media (max-width: 480px) {
        .reply-indicator {
          padding: 6px 10px;
          margin: 0 0 6px 0;
          border-left-width: 2px;
          border-radius: 0 4px 4px 0;
        }

        .reply-indicator-content {
          gap: 6px;
        }

        .reply-line {
          width: 2px;
        }

        .reply-info {
          gap: 1px;
        }

        .reply-to {
          font-size: 11px;
        }

        .reply-preview {
          font-size: 12px;
        }

        .reply-cancel {
          width: 20px;
          height: 20px;
          font-size: 12px;
          margin-left: 4px;
          min-width: 20px;
          min-height: 20px;
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
      }

      /* Very small screens */
      @media (max-width: 360px) {
        .reply-indicator {
          padding: 4px 8px;
          margin: 0 0 4px 0;
          border-left-width: 2px;
        }

        .reply-indicator-content {
          gap: 4px;
        }

        .reply-line {
          width: 2px;
        }

        .reply-to {
          font-size: 10px;
        }

        .reply-preview {
          font-size: 11px;
        }

        .reply-cancel {
          width: 18px;
          height: 18px;
          font-size: 10px;
          margin-left: 2px;
          min-width: 18px;
          min-height: 18px;
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);
        }
      }

      /* Landscape orientation on mobile */
      @media (max-width: 896px) and (max-height: 500px) and (orientation: landscape) {
        .reply-indicator {
          padding: 6px 10px;
          margin: 0 0 6px 0;
        }

        .reply-to {
          font-size: 11px;
        }

        .reply-preview {
          font-size: 12px;
        }
      }

      /* Large tablets and small desktops */
      @media (min-width: 1025px) and (max-width: 1440px) {
        .reply-indicator {
          padding: 10px 16px;
          max-width: 500px;
          margin: 0 auto 10px auto;
        }

        .reply-to {
          font-size: 13px;
        }

        .reply-preview {
          font-size: 14px;
        }
      }

      /* High DPI displays */
      @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
        .reply-indicator {
          border-left-width: 2px; /* Ensure border is crisp on high DPI */
        }
      }

      /* Reply message responsive design */
      @media (max-width: 768px) {
        .message-reply {
          padding: 10px 14px;
          margin-bottom: 10px;
          gap: 10px;
        }

        .reply-line {
          width: 2px;
        }

        .reply-content {
          gap: 6px;
        }

        .reply-sender {
          font-size: 12px;
          margin-bottom: 3px;
        }

        .reply-text {
          font-size: 13px;
          line-height: 1.4;
        }
      }

      @media (max-width: 480px) {
        .message-reply {
          padding: 8px 12px;
          margin-bottom: 8px;
          gap: 8px;
          border-radius: 10px;
        }

        .reply-line {
          width: 2px;
        }

        .reply-sender {
          font-size: 11px;
          margin-bottom: 2px;
        }

        .reply-text {
          font-size: 12px;
          line-height: 1.3;
        }
      }

      @media (max-width: 360px) {
        .message-reply {
          padding: 6px 10px;
          margin-bottom: 6px;
          gap: 6px;
          border-radius: 8px;
        }

        .reply-line {
          width: 1.5px;
        }

        .reply-sender {
          font-size: 10px;
          margin-bottom: 1px;
        }

        .reply-text {
          font-size: 11px;
          line-height: 1.2;
        }
      }

      /* Touch-friendly interactions */
      @media (pointer: coarse) {
        .chat-close:active {
          transform: scale(0.95);
        }

        /* Improve touch targets for reply functionality */
        .chat-message {
          min-height: 48px; /* Minimum touch target */
          padding: 18px 22px;
        }

        .reply-indicator {
          min-height: 56px; /* Ensure good touch target */
        }

        .reply-cancel {
          min-width: 32px;
          min-height: 32px;
          border-radius: 50%;
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        /* Better swipe feedback on touch devices */
        .chat-message:active {
          transform: scale(0.98);
          transition: transform 0.1s ease;
        }

        .chat-message:touch-manipulates {
          touch-action: pan-y; /* Allow vertical scrolling but prevent zoom */
        }

        /* Enhanced accessibility */
        .reply-cancel:focus,
        .chat-message:focus {
          outline: 2px solid #667eea;
          outline-offset: 2px;
        }

        /* Reduced motion for users who prefer it */
        @media (prefers-reduced-motion: reduce) {
          .reply-indicator,
          .message-reply,
          .chat-message {
            animation: none;
            transition: none;
          }

          .reply-indicator {
            animation: none !important;
          }
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
          .reply-indicator {
            border-left: 3px solid #000;
            background: #fff;
            color: #000;
          }

          .reply-line {
            background: #000;
          }

          .reply-cancel {
            border: 2px solid #000;
            background: #fff;
            color: #000;
          }
        }
      }

        .chat-send:active {
          transform: scale(0.98);
        }
      

      /* Chat notification */
      .chat-notification { position: fixed; top: 20px; right: 20px; background: #0d47a1; color: #fff; padding: 12px 16px; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); cursor: pointer; z-index: 1001; display: none; }
      .chat-notification:hover { background: #1565c0; }

      /* Video call overlay */
      .video-call-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.7);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 2000;
      }

      .video-call-card {
        width: min(980px, 94vw);
        height: min(640px, 90vh);
        background: #0b0f17;
        border-radius: 18px;
        overflow: hidden;
        border: 1px solid rgba(255,255,255,0.08);
        box-shadow: 0 24px 60px rgba(0,0,0,0.45);
      }

      .video-grid {
        position: relative;
        width: 100%;
        height: 100%;
        background: #0b0f17;
      }

      .video-remote {
        width: 100%;
        height: 100%;
        object-fit: cover;
        background: #101522;
      }

      .video-local {
        position: absolute;
        right: 16px;
        bottom: 16px;
        width: 220px;
        max-width: 35%;
        aspect-ratio: 16 / 9;
        border-radius: 12px;
        border: 2px solid rgba(255,255,255,0.2);
        object-fit: cover;
        background: #0b0f17;
        box-shadow: 0 10px 24px rgba(0,0,0,0.35);
      }

      .video-call-topbar {
        position: absolute;
        top: 16px;
        left: 16px;
        right: 16px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 14px;
        background: rgba(15, 23, 42, 0.6);
        border: 1px solid rgba(255,255,255,0.08);
        color: #fff;
        border-radius: 12px;
        backdrop-filter: blur(8px);
        z-index: 3;
        font-size: 14px;
        letter-spacing: 0.3px;
      }

      .video-call-controls {
        position: absolute;
        left: 50%;
        bottom: 16px;
        transform: translateX(-50%);
        display: flex;
        gap: 14px;
        align-items: center;
        justify-content: center;
        padding: 12px 18px;
        background: rgba(15, 23, 42, 0.7);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 999px;
        backdrop-filter: blur(10px);
        z-index: 3;
      }

      .vc-btn {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        border: none;
        display: grid;
        place-items: center;
        cursor: pointer;
        background: rgba(255,255,255,0.1);
        color: #fff;
        font-size: 16px;
        transition: transform 0.15s ease, background 0.2s ease;
        padding: 0;
        min-width: 48px;
      }
      .vc-icon {
        width: 22px;
        height: 22px;
        object-fit: contain;
        display: block;
      }
      .vc-label {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }

      .vc-btn:hover { transform: translateY(-2px); background: rgba(255,255,255,0.18); }
      .vc-btn.active { background: rgba(34, 197, 94, 0.85); }
      .vc-btn.end { background: #e11d48; }
      .vc-btn.end:hover { background: #f43f5e; }

      .incoming-call {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.6);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 2100;
      }

      .incoming-card {
        width: min(420px, 90vw);
        background: #ffffff;
        border-radius: 16px;
        padding: 24px;
        text-align: center;
        box-shadow: 0 18px 48px rgba(0,0,0,0.35);
      }

      .incoming-actions {
        display: flex;
        gap: 12px;
        justify-content: center;
        margin-top: 18px;
      }

      .incoming-btn {
        padding: 10px 18px;
        border-radius: 999px;
        border: none;
        cursor: pointer;
        color: #fff;
        font-weight: 600;
      }

      .incoming-accept { background: #16a34a; }
      .incoming-decline { background: #dc2626; }

      /* Dashboard styles */
      .dashboard-content { margin-top: 20px; }
      .dashboard-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 20px;
        margin-bottom: 32px;
      }

      .stat-card {
        background: linear-gradient(145deg, rgba(255,255,255,0.9) 0%, rgba(241,245,249,0.9) 100%);
        border: 1px solid rgba(255,255,255,0.7);
        border-radius: var(--border-radius);
        padding: 24px;
        box-shadow: var(--card-shadow);
        transition: var(--transition);
        backdrop-filter: blur(5px);
        position: relative;
        overflow: hidden;
      }

      .stat-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--card-shadow-hover);
      }

      .stat-card h4 {
        margin: 0 0 12px 0;
        color: var(--ink-900);
        font-size: 1.15rem;
        font-weight: 700;
        letter-spacing: -0.01em;
      }

      .stat-card p {
        color: var(--ink-700);
        line-height: 1.6;
        margin: 0;
      }

      .action-buttons {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        margin-top: 20px;
      }

      .action-btn {
        padding: 10px 18px;
        background: linear-gradient(135deg, #0ea5e9 0%, #2dd4bf 100%);
        color: #fff;
        border: none;
        border-radius: 999px;
        cursor: pointer;
        font-size: 0.9rem;
        font-weight: 600;
        transition: var(--transition);
        box-shadow: 0 8px 20px rgba(14, 165, 233, 0.25);
      }

      .action-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 24px rgba(14, 165, 233, 0.35);
      }

      .dashboard-info {
        background: linear-gradient(135deg, rgba(14, 165, 233, 0.12) 0%, rgba(45, 212, 191, 0.12) 100%);
        border: 1px solid rgba(14, 165, 233, 0.18);
        border-radius: var(--border-radius);
        padding: 24px;
        box-shadow: var(--card-shadow);
      }

      .dashboard-info h4 {
        margin: 0 0 16px 0;
        color: var(--ink-900);
        font-size: 1.15rem;
        font-weight: 700;
      }

      .dashboard-info ul {
        margin: 16px 0 0 0;
        padding-left: 20px;
      }

      .dashboard-info li {
        margin-bottom: 10px;
        line-height: 1.6;
        color: var(--ink-700);
      }

      .dashboard-info li strong {
        color: var(--ink-900);
      }
    </style>
  </head>
  <body>
    <div id="container">
      <h2>FastAPI AI Chat</h2>

      <div id="mainLayout">
        <div id="sidebar">
          <div class="sidebar-card">
            <h4>Active Users</h4>
            <div id="usersList">
              <div class="user-item">Loading users...</div>
            </div>
          </div>
          <div class="sidebar-card">
            <h4>Friend Requests</h4>
            <div id="friendRequestsList">
              <div class="user-item">Loading requests...</div>
            </div>
          </div>
          <div class="sidebar-card friends-section">
            <h4>My Friends</h4>
            <div id="friendsList">
              <div class="user-item">Loading friends...</div>
            </div>
          </div>
        </div>
      <div id="mainContent">
      <div class="card" id="authCard">
        <h3>Register</h3>
        <div class="row">
          <div class="field">
            <label for="regEmail">Email</label>
            <input id="regEmail" type="email" placeholder="you@example.com" />
          </div>
          <div class="field">
            <label for="regUsername">Username</label>
            <input id="regUsername" type="text" placeholder="username" />
          </div>
        </div>
        <div class="row">
          <div class="field">
            <label for="regPassword">Password</label>
            <input id="regPassword" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
          </div>
          <div class="field">
            <label for="regFullname">Full name</label>
            <input id="regFullname" type="text" placeholder="Optional" />
          </div>
        </div>
        <button id="registerBtn">Register</button>
      </div>

      <div class="card" id="loginCard">
        <h3>Login</h3>
        <div class="row">
          <div class="field">
            <label for="loginEmail">Email</label>
            <input id="loginEmail" type="email" placeholder="you@example.com" />
          </div>
          <div class="field">
            <label for="loginPassword">Password</label>
            <input id="loginPassword" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
          </div>
        </div>
        <button id="loginBtn">Login</button>
        <div id="loginStatus"></div>
      </div>

      <div class="card" id="dashboardCard" style="display:none;">
        <div class="row" style="align-items:center; justify-content:space-between;">
          <h3 style="margin:0;">Dashboard</h3>
          <div>
            <span id="status"></span>
            <button id="logoutBtn" style="margin-left:10px; background:#b71c1c;">Logout</button>
          </div>
        </div>

        <div class="dashboard-content">
          <div class="dashboard-stats">
            <div class="stat-card">
              <h4>Welcome back!</h4>
              <p>You are now logged into your dashboard. Use the sidebar to manage your friends and start chatting.</p>
            </div>
            <div class="stat-card">
              <h4>Quick Actions</h4>
              <div class="action-buttons">
                <button onclick="fetchActiveUsers()" class="action-btn">Refresh Users</button>
                <button onclick="fetchFriends()" class="action-btn">Refresh Friends</button>
                <button onclick="fetchFriendRequests()" class="action-btn">Check Requests</button>
              </div>
            </div>
          </div>

          <div class="dashboard-info">
            <h4>Getting Started</h4>
            <ul>
              <li><strong>Find Friends:</strong> Browse active users in the sidebar and send friend requests</li>
              <li><strong>Chat:</strong> Once you have friends, click the "Chat" button to start a conversation</li>
              <li><strong>Manage Friends:</strong> Accept/decline friend requests and remove friends as needed</li>
              <li><strong>Real-time Updates:</strong> All changes happen instantly thanks to WebSocket connections</li>
            </ul>
          </div>
        </div>
      </div>
      </div>
    </div>

    <!-- Chat notification
    <div id="chat-notification" class="chat-notification" onclick="openChatFromNotification()">
      <div id="notification-content">New message</div>
    </div> -->

    <!-- Chat windows will be dynamically added here -->
    <div id="chat-windows"></div>

    <!-- Incoming call modal -->
    <div id="incoming-call" class="incoming-call">
      <div class="incoming-card">
        <h3 id="incoming-title" style="margin: 0 0 8px 0;">Incoming call</h3>
        <p id="incoming-subtitle" style="margin: 0; color: #475569;">Someone is calling you</p>
        <div class="incoming-actions">
          <button id="incoming-accept" class="incoming-btn incoming-accept">Accept</button>
          <button id="incoming-decline" class="incoming-btn incoming-decline">Decline</button>
        </div>
      </div>
    </div>

    <!-- Video call overlay -->
    <div id="video-call-overlay" class="video-call-overlay">
      <div class="video-call-card">
        <div class="video-grid">
          <div class="video-call-topbar">
            <span id="vc-title">Video Call</span>
            <span id="vc-status">Connecting...</span>
          </div>
          <video id="remote-video" class="video-remote" autoplay playsinline></video>
          <video id="local-video" class="video-local" autoplay playsinline muted></video>
          <div class="video-call-controls">
            <button id="vc-mic" class="vc-btn active" title="Mute / Unmute">
              <img id="vc-mic-icon" class="vc-icon" src="/Images/microphone.png" alt="Microphone">
              <span class="vc-label" id="vc-mic-label">Unmuted</span>
            </button>
            <button id="vc-cam" class="vc-btn active" title="Camera On / Off">
              <img id="vc-cam-icon" class="vc-icon" src="/Images/video-camera.png" alt="Camera on">
              <span class="vc-label" id="vc-cam-label">Camera on</span>
            </button>
            <button id="vc-end" class="vc-btn end" title="End call">
              <img class="vc-icon" src="/Images/telephone.png" alt="End call">
              <span class="vc-label">End call</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Simple emoji picker -->
    <script>
      // Simple emoji picker implementation with categories
      class SimpleEmojiPicker extends HTMLElement {
        constructor() {
          super();
          this.attachShadow({ mode: 'open' });
          this.currentCategory = 'recent';
          this.recentEmojis = this.loadRecentEmojis();
          this.categories = {
            recent: {
              name: 'üïí',
              emojis: ['üòä', 'üòÇ', '‚ù§Ô∏è', 'üëç', 'üî•', 'üíØ', 'üëè', 'üôå']
            },
            faces: {
              name: 'üòÄ',
              emojis: [
                'üòÄ', 'üòÉ', 'üòÑ', 'üòÅ', 'üòÜ', 'üòÖ', 'ü§£', 'üòÇ', 'üôÇ', 'üôÉ', 'üòâ', 'üòä', 'üòá', 'ü•∞', 'üòç', 'ü§©', 'üòò', 'üòó', '‚ò∫Ô∏è', 'üòö', 'üòô', 'ü•≤', 'üòã', 'üòõ', 'üòú', 'ü§™', 'üòù', 'ü§ë', 'ü§ó', 'ü§≠', 'ü§´', 'ü§î', 'ü§ê', 'ü§®', 'üòê', 'üòë', 'üò∂', 'üòè', 'üòí', 'üôÑ', 'üò¨', 'ü§•', 'üòî', 'üò™', 'ü§§', 'üò¥', 'üò∑', 'ü§í', 'ü§ï', 'ü§¢', 'ü§Æ', 'ü§ß', 'ü•µ', 'ü•∂', 'ü•¥', 'üòµ', 'ü§Ø', 'ü§†', 'ü•≥', 'ü•∏', 'üòé', 'ü§ì', 'üßê', 'üòï', 'üòü', 'üôÅ', '‚òπÔ∏è', 'üòÆ', 'üòØ', 'üò≤', 'üò≥', 'ü•∫', 'üò¶', 'üòß', 'üò®', 'üò∞', 'üò•', 'üò¢', 'üò≠', 'üò±', 'üòñ', 'üò£', 'üòû', 'üòì', 'üò©', 'üò´', 'ü•±', 'üò§', 'üò°', 'üò†', 'ü§¨'
              ]
            },
            people: {
              name: 'üë•',
              emojis: [
                'üë∂', 'üëß', 'üßí', 'üë¶', 'üë©', 'üßë', 'üë®', 'üë©‚Äçü¶±', 'üë®‚Äçü¶±', 'üë©‚Äçü¶∞', 'üë®‚Äçü¶∞', 'üë±‚Äç‚ôÄÔ∏è', 'üë±‚Äç‚ôÇÔ∏è', 'üë©‚Äçü¶≥', 'üë®‚Äçü¶≥', 'üë©‚Äçü¶≤', 'üë®‚Äçü¶≤', 'üßî', 'üëµ', 'üßì', 'üë¥', 'üë≤', 'üë≥‚Äç‚ôÄÔ∏è', 'üë≥‚Äç‚ôÇÔ∏è', 'üßï', 'üëÆ‚Äç‚ôÄÔ∏è', 'üëÆ‚Äç‚ôÇÔ∏è', 'üë∑‚Äç‚ôÄÔ∏è', 'üë∑‚Äç‚ôÇÔ∏è', 'üíÇ‚Äç‚ôÄÔ∏è', 'üíÇ‚Äç‚ôÇÔ∏è', 'üïµÔ∏è‚Äç‚ôÄÔ∏è', 'üïµÔ∏è‚Äç‚ôÇÔ∏è', 'üë©‚Äç‚öïÔ∏è', 'üë®‚Äç‚öïÔ∏è', 'üë©‚Äçüåæ', 'üë®‚Äçüåæ', 'üë©‚Äçüç≥', 'üë®‚Äçüç≥', 'üë©‚Äçüéì', 'üë®‚Äçüéì', 'üë©‚Äçüé§', 'üë®‚Äçüé§', 'üë©‚Äçüè´', 'üë®‚Äçüè´', 'üë©‚Äçüè≠', 'üë®‚Äçüè≠', 'üë©‚Äçüíª', 'üë®‚Äçüíª', 'üë©‚Äçüíº', 'üë®‚Äçüíº', 'üë©‚Äçüîß', 'üë®‚Äçüîß', 'üë©‚Äçüî¨', 'üë®‚Äçüî¨', 'üë©‚Äçüé®', 'üë®‚Äçüé®', 'üë©‚Äçüöí', 'üë®‚Äçüöí', 'üë©‚Äç‚úàÔ∏è', 'üë®‚Äç‚úàÔ∏è', 'üë©‚ÄçüöÄ', 'üë®‚ÄçüöÄ', 'üë©‚Äç‚öñÔ∏è', 'üë®‚Äç‚öñÔ∏è', 'üë∞', 'ü§µ', 'ü§µ‚Äç‚ôÇÔ∏è', 'ü§µ‚Äç‚ôÄÔ∏è', 'üë∏', 'ü§¥', 'ü•∑', 'ü¶∏‚Äç‚ôÄÔ∏è', 'ü¶∏‚Äç‚ôÇÔ∏è', 'ü¶π‚Äç‚ôÄÔ∏è', 'ü¶π‚Äç‚ôÇÔ∏è', 'üßô‚Äç‚ôÄÔ∏è', 'üßô‚Äç‚ôÇÔ∏è', 'üßö‚Äç‚ôÄÔ∏è', 'üßö‚Äç‚ôÇÔ∏è', 'üßõ‚Äç‚ôÄÔ∏è', 'üßõ‚Äç‚ôÇÔ∏è', 'üßú‚Äç‚ôÄÔ∏è', 'üßú‚Äç‚ôÇÔ∏è', 'üßù‚Äç‚ôÄÔ∏è', 'üßù‚Äç‚ôÇÔ∏è', 'üßû‚Äç‚ôÄÔ∏è', 'üßû‚Äç‚ôÇÔ∏è', 'üßü‚Äç‚ôÄÔ∏è', 'üßü‚Äç‚ôÇÔ∏è', 'üßå', 'üíÉ', 'üï∫', 'üï¥Ô∏è', 'üëØ‚Äç‚ôÄÔ∏è', 'üëØ‚Äç‚ôÇÔ∏è', 'üëØ', 'üßñ‚Äç‚ôÄÔ∏è', 'üßñ‚Äç‚ôÇÔ∏è', 'üßñ', 'üßó‚Äç‚ôÄÔ∏è', 'üßó‚Äç‚ôÇÔ∏è', 'üßó', 'üèá', '‚õ∑Ô∏è', 'üèÇ', 'üèåÔ∏è‚Äç‚ôÄÔ∏è', 'üèåÔ∏è‚Äç‚ôÇÔ∏è', 'üèåÔ∏è', 'üèÑ‚Äç‚ôÄÔ∏è', 'üèÑ‚Äç‚ôÇÔ∏è', 'üèÑ', 'üö£‚Äç‚ôÄÔ∏è', 'üö£‚Äç‚ôÇÔ∏è', 'üö£', 'üèä‚Äç‚ôÄÔ∏è', 'üèä‚Äç‚ôÇÔ∏è', 'üèä', '‚õπÔ∏è‚Äç‚ôÄÔ∏è', '‚õπÔ∏è‚Äç‚ôÇÔ∏è', '‚õπÔ∏è', 'üèãÔ∏è‚Äç‚ôÄÔ∏è', 'üèãÔ∏è‚Äç‚ôÇÔ∏è', 'üèãÔ∏è', 'üö¥‚Äç‚ôÄÔ∏è', 'üö¥‚Äç‚ôÇÔ∏è', 'üö¥', 'üöµ‚Äç‚ôÄÔ∏è', 'üöµ‚Äç‚ôÇÔ∏è', 'üöµ', 'ü§∏‚Äç‚ôÄÔ∏è', 'ü§∏‚Äç‚ôÇÔ∏è', 'ü§∏', 'ü§º‚Äç‚ôÄÔ∏è', 'ü§º‚Äç‚ôÇÔ∏è', 'ü§º', 'ü§Ω‚Äç‚ôÄÔ∏è', 'ü§Ω‚Äç‚ôÇÔ∏è', 'ü§Ω', 'ü§æ‚Äç‚ôÄÔ∏è', 'ü§æ‚Äç‚ôÇÔ∏è', 'ü§æ', 'ü§π‚Äç‚ôÄÔ∏è', 'ü§π‚Äç‚ôÇÔ∏è', 'ü§π', 'üßò‚Äç‚ôÄÔ∏è', 'üßò‚Äç‚ôÇÔ∏è', 'üßò', 'üõÄ', 'üõå', 'üßë‚Äçü§ù‚Äçüßë', 'üë≠', 'üë´', 'üë¨', 'üíè', 'üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë®', 'üë®‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë®', 'üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë©', 'üíë', 'üë©‚Äç‚ù§Ô∏è‚Äçüë®', 'üë®‚Äç‚ù§Ô∏è‚Äçüë®', 'üë©‚Äç‚ù§Ô∏è‚Äçüë©', 'üë™', 'üë®‚Äçüë©‚Äçüëß', 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶', 'üë®‚Äçüë©‚Äçüë¶‚Äçüë¶', 'üë®‚Äçüë©‚Äçüëß‚Äçüëß', 'üë®‚Äçüë®‚Äçüëß', 'üë®‚Äçüë®‚Äçüëß‚Äçüë¶', 'üë®‚Äçüë®‚Äçüë¶‚Äçüë¶', 'üë®‚Äçüë®‚Äçüëß‚Äçüëß', 'üë©‚Äçüë©‚Äçüëß', 'üë©‚Äçüë©‚Äçüëß‚Äçüë¶', 'üë©‚Äçüë©‚Äçüë¶‚Äçüë¶', 'üë©‚Äçüë©‚Äçüëß‚Äçüëß', 'üë®‚Äçüëß', 'üë®‚Äçüëß‚Äçüë¶', 'üë®‚Äçüë¶‚Äçüë¶', 'üë®‚Äçüëß‚Äçüëß', 'üë©‚Äçüëß', 'üë©‚Äçüëß‚Äçüë¶', 'üë©‚Äçüë¶‚Äçüë¶', 'üë©‚Äçüëß‚Äçüëß', 'üó£Ô∏è', 'üë§', 'üë•', 'ü´Ç', 'üë£'
              ]
            },
            nature: {
              name: 'üåø',
              emojis: [
                'üå±', 'üåø', '‚òòÔ∏è', 'üçÄ', 'üéã', 'üéç', 'üåæ', 'üåµ', 'üå≤', 'üå≥', 'üå¥', 'üå∏', 'üå∫', 'üåª', 'üå∑', 'ü•Ä', 'üåπ', 'üåº', 'üåø', 'üçÑ', 'üå∞', 'ü¶ã', 'üêõ', 'üêú', 'üêù', 'ü™≤', 'üêû', 'üêå', 'üêô', 'ü¶ë', 'ü¶ê', 'ü¶û', 'ü¶Ä', 'üê°', 'üê†', 'üêü', 'üê¨', 'üê≥', 'üêã', 'ü¶à', 'üêä', 'üêÖ', 'üêÜ', 'ü¶ì', 'ü¶ç', 'ü¶ß', 'üêò', 'ü¶õ', 'ü¶è', 'üê™', 'üê´', 'ü¶í', 'ü¶ò', 'üêÉ', 'üêÇ', 'üêÑ', 'üêé', 'üêñ', 'üêè', 'üêë', 'ü¶ô', 'üêê', 'ü¶å', 'üêï', 'üê©', 'ü¶Æ', 'üêï‚Äçü¶∫', 'üêà', 'üêà‚Äç‚¨õ', 'üêì', 'ü¶É', 'ü¶ö', 'ü¶ú', 'ü¶¢', 'ü¶©', 'üïäÔ∏è', 'üêá', 'ü¶ù', 'ü¶®', 'ü¶°', 'ü¶´', 'ü¶¶', 'ü¶•', 'üêÅ', 'üêÄ', 'üêøÔ∏è', 'ü¶î', 'ü¶á', 'üê∫', 'üêó', 'üê¥', 'ü¶Ñ', 'üêù', 'üêõ', 'ü¶ã', 'üêå', 'üêû', 'üêú', 'ü¶ó', 'üï∑Ô∏è', 'ü¶Ç', 'üê¢', 'üêç', 'ü¶é', 'ü¶ñ', 'ü¶ï', 'üêô', 'ü¶ë', 'ü¶ê', 'ü¶û', 'ü¶Ä', 'üê°', 'üê†', 'üêü', 'üê¨', 'üê≥', 'üêã', 'ü¶à', 'üêä', 'üêÖ', 'üêÜ', 'ü¶ì', 'ü¶ç', 'ü¶ß', 'üêò', 'ü¶õ', 'ü¶è', 'üê™', 'üê´', 'ü¶í', 'ü¶ò', 'üêÉ', 'üêÇ', 'üêÑ', 'üêé', 'üêñ', 'üêè', 'üêë', 'ü¶ô', 'üêê', 'ü¶å'
              ]
            },
            food: {
              name: 'üçé',
              emojis: [
                'üçé', 'üçä', 'üçã', 'üçå', 'üçâ', 'üçá', 'üçì', 'ü´ê', 'üçà', 'üçí', 'üçë', 'ü•≠', 'üçç', 'ü••', 'ü•ù', 'üçÖ', 'üçÜ', 'ü•ë', 'ü•¶', 'ü•¨', 'ü•í', 'üå∂Ô∏è', 'ü´ë', 'üåΩ', 'ü•ï', 'ü´í', 'üßÑ', 'üßÖ', 'ü•î', 'üç†', 'ü•ê', 'ü•ñ', 'üçû', 'ü•®', 'ü•Ø', 'üßÄ', 'ü•ö', 'üç≥', 'üßà', 'ü•û', 'üßá', 'ü•ì', 'ü•©', 'üçó', 'üçñ', 'ü¶¥', 'üå≠', 'üçî', 'üçü', 'üçï', 'ü´ì', 'ü•ô', 'üåÆ', 'üåØ', 'ü´î', 'ü•ó', 'ü•ò', 'ü´ï', 'üçù', 'üçú', 'üç≤', 'üçõ', 'üç£', 'üç±', 'ü•ü', 'ü¶™', 'üç§', 'üçô', 'üçö', 'üçò', 'üç•', 'ü•†', 'ü•Æ', 'üç¢', 'üç°', 'üçß', 'üç®', 'üç¶', 'ü•ß', 'üßÅ', 'üç∞', 'üéÇ', 'üçÆ', 'üç≠', 'üç¨', 'üç´', 'üçø', 'üç©', 'üç™', 'üå∞', 'ü•ú', 'üçØ', 'ü•õ', 'üçº', '‚òï', 'ü´ñ', 'üçµ', 'üßÉ', 'ü•§', 'üßã', 'üç∂', 'üç∫', 'üçª', 'ü•Ç', 'üç∑', 'ü•É', 'üç∏', 'üçπ', 'üßâ', 'üçæ', 'ü•Ñ', 'üç¥', 'üçΩÔ∏è', 'ü•£', 'ü•°', 'ü•¢', 'üßÇ'
              ]
            },
            activities: {
              name: '‚öΩ',
              emojis: [
                '‚öΩ', 'üèÄ', 'üèà', '‚öæ', 'ü•é', 'üéæ', 'üèê', 'üèâ', 'ü•è', 'üé±', 'ü™Ä', 'üèì', 'üè∏', 'üèí', 'üèë', 'ü•ç', 'üèè', 'ü™É', 'ü•Ö', '‚õ≥', 'ü™Å', 'üèπ', 'üé£', 'ü§ø', 'ü•ä', 'ü•ã', 'üéΩ', 'üõπ', 'üõ∑', '‚õ∏Ô∏è', 'ü•å', 'üéø', '‚õ∑Ô∏è', 'üèÇ', 'ü™Ç', 'üèãÔ∏è', 'ü§∏', 'ü§º', 'ü§Ω', 'ü§æ', 'ü§π', 'üßò', 'üèÉ', 'üö∂', 'üßé', 'üßç', 'üèÉ‚Äç‚ôÄÔ∏è', 'üèÉ‚Äç‚ôÇÔ∏è', 'üö∂‚Äç‚ôÄÔ∏è', 'üö∂‚Äç‚ôÇÔ∏è', 'üßé‚Äç‚ôÄÔ∏è', 'üßé‚Äç‚ôÇÔ∏è', 'üßç‚Äç‚ôÄÔ∏è', 'üßç‚Äç‚ôÇÔ∏è', 'üë®‚Äçü¶Ø', 'üë©‚Äçü¶Ø', 'üë®‚Äçü¶º', 'üë©‚Äçü¶º', 'üë®‚Äçü¶Ω', 'üë©‚Äçü¶Ω', 'üèá', '‚õ∑Ô∏è', 'üèÇ', 'üèåÔ∏è‚Äç‚ôÄÔ∏è', 'üèåÔ∏è‚Äç‚ôÇÔ∏è', 'üèÑ‚Äç‚ôÄÔ∏è', 'üèÑ‚Äç‚ôÇÔ∏è', 'üö£‚Äç‚ôÄÔ∏è', 'üö£‚Äç‚ôÇÔ∏è', 'üèä‚Äç‚ôÄÔ∏è', 'üèä‚Äç‚ôÇÔ∏è', '‚õπÔ∏è‚Äç‚ôÄÔ∏è', '‚õπÔ∏è‚Äç‚ôÇÔ∏è', 'üèãÔ∏è‚Äç‚ôÄÔ∏è', 'üèãÔ∏è‚Äç‚ôÇÔ∏è', 'üö¥‚Äç‚ôÄÔ∏è', 'üö¥‚Äç‚ôÇÔ∏è', 'üöµ‚Äç‚ôÄÔ∏è', 'üöµ‚Äç‚ôÇÔ∏è', 'ü§∏‚Äç‚ôÄÔ∏è', 'ü§∏‚Äç‚ôÇÔ∏è', 'ü§º‚Äç‚ôÄÔ∏è', 'ü§º‚Äç‚ôÇÔ∏è', 'ü§Ω‚Äç‚ôÄÔ∏è', 'ü§Ω‚Äç‚ôÇÔ∏è', 'ü§æ‚Äç‚ôÄÔ∏è', 'ü§æ‚Äç‚ôÇÔ∏è', 'ü§π‚Äç‚ôÄÔ∏è', 'ü§π‚Äç‚ôÇÔ∏è', 'üßò‚Äç‚ôÄÔ∏è', 'üßò‚Äç‚ôÇÔ∏è'
              ]
            },
            travel: {
              name: '‚úàÔ∏è',
              emojis: [
                'üöó', 'üöï', 'üöô', 'üöå', 'üöé', 'üèéÔ∏è', 'üöì', 'üöë', 'üöí', 'üöê', 'üöö', 'üöõ', 'üöú', 'üèçÔ∏è', 'üõµ', 'üö≤', 'üõ¥', 'üõπ', 'üöè', 'üõ£Ô∏è', 'üõ§Ô∏è', 'üõ¢Ô∏è', '‚õΩ', 'üö®', 'üö•', 'üö¶', 'üõë', 'üöß', '‚öì', '‚õµ', 'üõ∂', 'üö§', 'üõ≥Ô∏è', '‚õ¥Ô∏è', 'üõ•Ô∏è', 'üö¢', '‚úàÔ∏è', 'üõ©Ô∏è', 'üõ´', 'üõ¨', 'ü™Ç', 'üí∫', 'üöÅ', 'üöü', 'üö†', 'üö°', 'üó∫Ô∏è', 'üèîÔ∏è', '‚õ∞Ô∏è', 'üåã', 'üóª', 'üèïÔ∏è', 'üèñÔ∏è', 'üèúÔ∏è', 'üèùÔ∏è', 'üèûÔ∏è', 'üèüÔ∏è', 'üèõÔ∏è', 'üèóÔ∏è', 'üß±', 'üèòÔ∏è', 'üèöÔ∏è', 'üè†', 'üè°', 'üè¢', 'üè£', 'üè§', 'üè•', 'üè¶', 'üè®', 'üè©', 'üè™', 'üè´', 'üè¨', 'üè≠', 'üèØ', 'üè∞', 'üíí', 'üóº', 'üóΩ', '‚õ™', 'üïå', 'üõï', 'üïç', '‚õ©Ô∏è', 'üïã', '‚õ≤', '‚õ∫', 'üåÅ', 'üåÉ', 'üèôÔ∏è', 'üåÑ', 'üåÖ', 'üåÜ', 'üåá', 'üåâ', '‚ô®Ô∏è', 'üé†', 'üé°', 'üé¢', 'üíà', 'üé™', 'üöÇ', 'üöÉ', 'üöÑ', 'üöÖ', 'üöÜ', 'üöá', 'üöà', 'üöâ', 'üöä', 'üöù', 'üöû', 'üöã', 'üöå', 'üöç', 'üöé', 'üöê', 'üöë', 'üöí', 'üöì', 'üöî', 'üöï', 'üöñ', 'üöó', 'üöò', 'üöô', 'üöö', 'üöõ', 'üöú', 'üèéÔ∏è', 'üèçÔ∏è', 'üõµ', 'üö≤', 'üõ¥', 'üõπ', 'üöè', 'üõ£Ô∏è', 'üõ§Ô∏è', 'üõ¢Ô∏è', '‚õΩ', 'üö®', 'üö•', 'üö¶', 'üõë', 'üöß', '‚öì', '‚õµ', 'üõ∂', 'üö§', 'üõ≥Ô∏è', '‚õ¥Ô∏è', 'üõ•Ô∏è', 'üö¢', '‚úàÔ∏è', 'üõ©Ô∏è', 'üõ´', 'üõ¨', 'ü™Ç', 'üí∫', 'üöÅ', 'üöü', 'üö†', 'üö°', 'üó∫Ô∏è'
              ]
            },
            objects: {
              name: 'üì±',
              emojis: [
                'üì±', 'üíª', '‚å®Ô∏è', 'üñ•Ô∏è', 'üñ®Ô∏è', '‚åö', 'üì∑', 'üé•', 'üì∫', 'üîç', 'üí°', 'üî¶', 'üèÆ', 'ü™î', 'üìî', 'üìö', 'üìñ', 'üìù', '‚úèÔ∏è', '‚úíÔ∏è', 'üñäÔ∏è', 'üñåÔ∏è', 'üñçÔ∏è', 'üìê', 'üìè', 'üìé', 'üìå', 'üìç', 'üíº', 'üìÅ', 'üìÇ', 'üóÇÔ∏è', 'üìÖ', 'üìÜ', 'üóíÔ∏è', 'üì∞', 'üìì', 'üìí', 'üìÉ', 'üìú', 'üìÑ', 'üóûÔ∏è', 'üìë', 'üîñ', 'üè∑Ô∏è', 'üí∞', 'ü™ô', 'üí¥', 'üíµ', 'üí∂', 'üí∑', 'üí∏', 'üí≥', 'üßæ', 'üíπ', '‚úâÔ∏è', 'üìß', 'üì®', 'üì©', 'üì§', 'üì•', 'üì¶', 'üì´', 'üì™', 'üì¨', 'üì≠', 'üìÆ', 'üó≥Ô∏è', '‚åõ', '‚è≥', '‚åö', '‚è∞', '‚è±Ô∏è', '‚è≤Ô∏è', 'üï∞Ô∏è', 'üïõ', 'üïß', 'üïê', 'üïú', 'üïë', 'üïù', 'üïí', 'üïû', 'üïì', 'üïü', 'üïî', 'üï†', 'üïï', 'üï°', 'üïñ', 'üï¢', 'üïó', 'üï£', 'üïò', 'üï§', 'üïô', 'üï•', 'üïö', 'üï¶', 'üåë', 'üåí', 'üåì', 'üåî', 'üåï', 'üåñ', 'üåó', 'üåò', 'üåô', 'üåö', 'üåõ', 'üåú', 'üå°Ô∏è', '‚òÄÔ∏è', 'üåù', 'üåû', '‚≠ê', 'üåü', 'üå†', 'üåå', '‚òÅÔ∏è', '‚õÖ', '‚õàÔ∏è', 'üå§Ô∏è', 'üå•Ô∏è', 'üå¶Ô∏è', 'üåßÔ∏è', 'üå®Ô∏è', 'üå©Ô∏è', 'üå™Ô∏è', 'üå´Ô∏è', 'üå¨Ô∏è', 'üåÄ', 'üåà', 'üåÇ', '‚òÇÔ∏è', '‚òî', '‚õ±Ô∏è', '‚ö°', '‚ùÑÔ∏è', '‚òÉÔ∏è', '‚õÑ', '‚òÑÔ∏è', 'üî•', 'üíß', 'üåä', 'üéÉ', 'üéÑ', 'üéÜ', 'üéá', 'üß®', '‚ú®', 'üéà', 'üéâ', 'üéä', 'üéã', 'üéç', 'üéé', 'üéè', 'üéê', 'üéë', 'üßß', 'üéÄ', 'üéÅ', 'üéóÔ∏è', 'üéüÔ∏è', 'üé´', 'üéñÔ∏è', 'üèÜ', 'üèÖ', 'ü•á', 'ü•à', 'ü•â', '‚öΩ', '‚öæ', 'ü•é', 'üèÄ', 'üèê', 'üèà', 'üèâ', 'üéæ', 'ü•è', 'üé≥', 'üèì', 'üè∏', 'üèí', 'üèë', 'ü•ç', 'üèè', 'ü™É', 'ü•Ö', '‚õ≥', 'ü™Å', 'üèπ', 'üé£', 'ü§ø', 'ü•ä', 'ü•ã', 'üéΩ', 'üõπ', 'üé≠', 'ü©∞', 'üé®', 'üé¨', 'üé§', 'üéß', 'üéº', 'üéπ', 'ü•Å', 'ü™ò', 'üé∑', 'üé∫', 'ü™ó', 'üé∏', 'ü™ï', 'üéª', 'üé≤', '‚ô†Ô∏è', '‚ô•Ô∏è', '‚ô¶Ô∏è', '‚ô£Ô∏è', 'üÉè', 'üÄÑ', 'üé¥', 'üéØ', 'ü™Ä', 'ü™Å', 'üé±', 'üîÆ', 'ü™Ñ', 'üßø', 'üéÆ', 'üïπÔ∏è', 'üé∞', 'üé≤', 'üß©', 'üß∏', 'ü™Ü', '‚ô†Ô∏è', '‚ô•Ô∏è', '‚ô¶Ô∏è', '‚ô£Ô∏è', 'üÉè', 'üÄÑ', 'üé¥', 'üéØ', 'ü™Ä', 'ü™Å', 'üé±', 'üîÆ', 'ü™Ñ', 'üßø', 'üéÆ', 'üïπÔ∏è', 'üé∞', 'üé≤', 'üß©', 'üß∏', 'ü™Ü', 'ü™°', 'üßµ', 'ü™¢', 'üß∂', 'üëì', 'üï∂Ô∏è', 'ü•Ω', 'ü•º', 'ü¶∫', 'üëî', 'üëï', 'üëñ', 'üß£', 'üß§', 'üß•', 'üß¶', 'üëó', 'üëò', 'ü•ª', 'ü©±', 'ü©≤', 'ü©≥', 'üëô', 'üëö', 'üëõ', 'üëú', 'üëù', 'üõçÔ∏è', 'üéí', 'ü©¥', 'üë†', 'üë°', 'ü•æ', 'ü•ø', 'üë¢', 'üëû', 'üëü', 'ü•á', 'ü•à', 'ü•â', 'üèÖ', 'üéñÔ∏è', 'üèÜ', 'ü•å', 'üèí', '‚õ∑Ô∏è', 'üéø', '‚õ∏Ô∏è', 'ü•å', 'üéØ', 'üé±', 'üé≥', 'üéÆ', 'üé∞', 'üßø', 'ü™Ñ', 'üîÆ', 'üßø', 'ü™Ñ', 'üîÆ'
              ]
            },
            symbols: {
              name: 'üíù',
              emojis: [
                'üíã', 'üíå', 'üíò', 'üíù', 'üíñ', 'üíó', 'üíì', 'üíû', 'üíï', 'üíü', '‚ù£Ô∏è', 'üíî', '‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö', 'üíô', 'üíú', 'üñ§', 'ü§ç', 'ü§é', 'üíØ', 'üí¢', 'üí•', 'üí´', 'üí¶', 'üí®', 'üï≥Ô∏è', 'üí£', 'üí¨', 'üëÅÔ∏è‚Äçüó®Ô∏è', 'üó®Ô∏è', 'üóØÔ∏è', 'üí≠', 'üí§', 'üèÅ', 'üö©', 'üéå', 'üè¥', 'üè≥Ô∏è', 'üè≥Ô∏è‚Äçüåà', 'üè≥Ô∏è‚Äç‚ößÔ∏è', 'üè¥‚Äç‚ò†Ô∏è', '‚òÆÔ∏è', '‚úùÔ∏è', '‚ò™Ô∏è', 'üïâÔ∏è', '‚ò∏Ô∏è', '‚ú°Ô∏è', 'üîØ', 'üïé', '‚òØÔ∏è', '‚ò¶Ô∏è', 'üõê', '‚õé', '‚ôà', '‚ôâ', '‚ôä', '‚ôã', '‚ôå', '‚ôç', '‚ôé', '‚ôè', '‚ôê', '‚ôë', '‚ôí', '‚ôì', 'üÜî', '‚öõÔ∏è', 'üâë', '‚ò¢Ô∏è', '‚ò£Ô∏è', 'üì¥', 'üì≥', 'üà∂', 'üàö', 'üà∏', 'üà∫', 'üà∑Ô∏è', '‚ú¥Ô∏è', 'üÜö', 'üíÆ', 'üâê', '„äôÔ∏è', '„äóÔ∏è', 'üà¥', 'üàµ', 'üàπ', 'üà≤', 'üÖ∞Ô∏è', 'üÖ±Ô∏è', 'üÜé', 'üÜë', 'üÖæÔ∏è', 'üÜò', '‚ùå', '‚≠ï', 'üõë', '‚õî', 'üìõ', 'üö´', 'üíØ', 'üí¢', '‚ô®Ô∏è', 'üö∑', 'üöØ', 'üö≥', 'üö±', 'üîû', 'üìµ', 'üö≠', '‚ôø', 'üÖøÔ∏è', 'üà≥', 'üàÇÔ∏è', 'üõÇ', 'üõÉ', 'üõÑ', 'üõÖ', 'üöπ', 'üö∫', 'üöº', 'üöæ', 'üõñ', 'üö™', 'ü™ë', 'üöΩ', 'üöø', 'üõÅ', 'ü™í', 'üß¥', 'üß∑', 'üßπ', 'üß∫', 'üßª', 'ü™£', 'üßº', 'ü™•', 'üßΩ', 'üßØ', 'üõí', 'üö¨', '‚ö∞Ô∏è', 'ü™¶', '‚ö±Ô∏è', 'üóø', 'ü™ß', 'üèß', '‚ôø', 'ü¶Ω', 'ü¶º', 'ü¶Ø', 'ü¶ª', 'ü¶∫', 'üö∏', '‚õî', 'üö´', 'üö≥', 'üö≠', 'üöØ', 'üö±', 'üö∑', 'üìµ', 'üîû', '‚ò¢Ô∏è', '‚ò£Ô∏è', '‚¨ÜÔ∏è', '‚ÜóÔ∏è', '‚û°Ô∏è', '‚ÜòÔ∏è', '‚¨áÔ∏è', '‚ÜôÔ∏è', '‚¨ÖÔ∏è', '‚ÜñÔ∏è', '‚ÜïÔ∏è', '‚ÜîÔ∏è', '‚Ü©Ô∏è', '‚Ü™Ô∏è', '‚§¥Ô∏è', '‚§µÔ∏è', 'üîÉ', 'üîÑ', 'üîô', 'üîö', 'üîõ', 'üîú', 'üîù', 'üõê', '‚öõÔ∏è', 'üïâÔ∏è', '‚ú°Ô∏è', '‚ò∏Ô∏è', '‚òØÔ∏è', '‚úùÔ∏è', '‚ò¶Ô∏è', '‚ò™Ô∏è', '‚òÆÔ∏è', 'üïé', 'üîØ', '‚ôà', '‚ôâ', '‚ôä', '‚ôã', '‚ôå', '‚ôç', '‚ôé', '‚ôè', '‚ôê', '‚ôë', '‚ôí', '‚ôì', '‚õé', 'üîÄ', 'üîÅ', 'üîÇ', '‚ñ∂Ô∏è', '‚è©', '‚è≠Ô∏è', '‚èØÔ∏è', '‚óÄÔ∏è', '‚è™', '‚èÆÔ∏è', 'üîº', '‚è´', 'üîΩ', '‚è¨', '‚è∏Ô∏è', '‚èπÔ∏è', '‚è∫Ô∏è', '‚èèÔ∏è', 'üé¶', 'üîÖ', 'üîÜ', 'üì∂', 'üì≥', 'üì¥', '‚ôÄÔ∏è', '‚ôÇÔ∏è', '‚ößÔ∏è', '‚úñÔ∏è', '‚ûï', '‚ûñ', '‚ûó', 'üü∞', '‚ôæÔ∏è', '‚ÄºÔ∏è', '‚ÅâÔ∏è', '‚ùì', '‚ùî', '‚ùï', '‚ùó', '„Ä∞Ô∏è', 'üí±', 'üí≤', '‚öïÔ∏è', '‚ôªÔ∏è', '‚öúÔ∏è', 'üî±', 'üìõ', 'üî∞', '‚≠ï', '‚úÖ', '‚òëÔ∏è', '‚úîÔ∏è', '‚ùå', '‚ùé', '‚û∞', '‚ûø', '„ÄΩÔ∏è', '‚ú≥Ô∏è', '‚ú¥Ô∏è', '‚ùáÔ∏è', '¬©Ô∏è', '¬ÆÔ∏è', '‚Ñ¢Ô∏è', '#Ô∏è‚É£', '*Ô∏è‚É£', '0Ô∏è‚É£', '1Ô∏è‚É£', '2Ô∏è‚É£', '3Ô∏è‚É£', '4Ô∏è‚É£', '5Ô∏è‚É£', '6Ô∏è‚É£', '7Ô∏è‚É£', '8Ô∏è‚É£', '9Ô∏è‚É£', 'üîü', 'üî†', 'üî°', 'üî¢', 'üî£', 'üî§', 'üÖ∞Ô∏è', 'üÖ±Ô∏è', 'üÖæÔ∏è', 'üÖøÔ∏è', 'üÜé', 'üÜë', 'üÜî', 'üÜï', 'üÜñ', 'üÜó', 'üÜò', 'üÜô', 'üÜö', 'üá¶üá®', 'üá¶üá©', 'üá¶üá™', 'üá¶üá´', 'üá¶üá¨', 'üá¶üáÆ', 'üá¶üá±', 'üá¶üá≤', 'üá¶üá¥', 'üá¶üá∂', 'üá¶üá∑', 'üá¶üá∏', 'üá¶üáπ', 'üá¶üá∫', 'üá¶üáº', 'üá¶üáΩ', 'üá¶üáø', 'üáßüá¶', 'üáßüáß', 'üáßüá©', 'üáßüá™', 'üáßüá´', 'üáßüá¨', 'üáßüá≠', 'üáßüáÆ', 'üáßüáØ', 'üáßüá±', 'üáßüá≤', 'üáßüá≥', 'üáßüá¥', 'üáßüá∂', 'üáßüá∑', 'üáßüá∏', 'üáßüáπ', 'üáßüáª', 'üáßüáº', 'üáßüáæ', 'üáßüáø', 'üá®üá¶', 'üá®üá®', 'üá®üá©', 'üá®üá´', 'üá®üá¨', 'üá®üá≠', 'üá®üáÆ', 'üá®üá∞', 'üá®üá±', 'üá®üá≤', 'üá®üá≥', 'üá®üá¥', 'üá®üáµ', 'üá®üá∑', 'üá®üá∫', 'üá®üáª', 'üá®üáº', 'üá®üáΩ', 'üá®üáæ', 'üá®üáø', 'üá©üá™', 'üá©üá¨', 'üá©üáØ', 'üá©üá∞', 'üá©üá≤', 'üá©üá¥', 'üá©üáø', 'üá™üá¶', 'üá™üá®', 'üá™üá™', 'üá™üá¨', 'üá™üá≠', 'üá™üá∑', 'üá™üá∏', 'üá™üáπ', 'üá™üá∫', 'üá´üáÆ', 'üá´üáØ', 'üá´üá∞', 'üá´üá≤', 'üá´üá¥', 'üá´üá∑', 'üá¨üá¶', 'üá¨üáß', 'üá¨üá©', 'üá¨üá™', 'üá¨üá´', 'üá¨üá¨', 'üá¨üá≠', 'üá¨üáÆ', 'üá¨üá±', 'üá¨üá≤', 'üá¨üá≥', 'üá¨üáµ', 'üá¨üá∂', 'üá¨üá∑', 'üá¨üá∏', 'üá¨üáπ', 'üá¨üá∫', 'üá¨üáº', 'üá¨üáæ', 'üá≠üá∞', 'üá≠üá≤', 'üá≠üá≥', 'üá≠üá∑', 'üá≠üáπ', 'üá≠üá∫', 'üáÆüá®', 'üáÆüá©', 'üáÆüá™', 'üáÆüá±', 'üáÆüá≤', 'üáÆüá≥', 'üáÆüá¥', 'üáÆüá∂', 'üáÆüá∑', 'üáÆüá∏', 'üáÆüáπ', 'üáØüá™', 'üáØüá≤', 'üáØüá¥', 'üáØüáµ', 'üá∞üá™', 'üá∞üá¨', 'üá∞üá≠', 'üá∞üáÆ', 'üá∞üá≤', 'üá∞üá≥', 'üá∞üáµ', 'üá∞üá∑', 'üá∞üáº', 'üá∞üáæ', 'üá∞üáø', 'üá±üá¶', 'üá±üáß', 'üá±üá®', 'üá±üáÆ', 'üá±üá∞', 'üá±üá∑', 'üá±üá∏', 'üá±üáπ', 'üá±üá∫', 'üá±üáª', 'üá±üáæ', 'üá≤üá¶', 'üá≤üá®', 'üá≤üá©', 'üá≤üá™', 'üá≤üá´', 'üá≤üá¨', 'üá≤üá≠', 'üá≤üá∞', 'üá≤üá±', 'üá≤üá≤', 'üá≤üá≥', 'üá≤üá¥', 'üá≤üáµ', 'üá≤üá∂', 'üá≤üá∑', 'üá≤üá∏', 'üá≤üáπ', 'üá≤üá∫', 'üá≤üáª', 'üá≤üáº', 'üá≤üáΩ', 'üá≤üáæ', 'üá≤üáø', 'üá≥üá¶', 'üá≥üá®', 'üá≥üá™', 'üá≥üá´', 'üá≥üá¨', 'üá≥üáÆ', 'üá≥üá±', 'üá≥üá¥', 'üá≥üáµ', 'üá≥üá∑', 'üá≥üá∫', 'üá≥üáø', 'üá¥üá≤', 'üáµüá¶', 'üáµüá™', 'üáµüá´', 'üáµüá¨', 'üáµüá≠', 'üáµüá∞', 'üáµüá±', 'üáµüá≤', 'üáµüá≥', 'üáµüá∑', 'üáµüá∏', 'üáµüáπ', 'üáµüáº', 'üáµüáæ', 'üá∂üá¶', 'üá∑üá™', 'üá∑üá¥', 'üá∑üá∏', 'üá∑üá∫', 'üá∑üáº', 'üá∏üá¶', 'üá∏üáß', 'üá∏üá®', 'üá∏üá©', 'üá∏üá™', 'üá∏üá¨', 'üá∏üá≠', 'üá∏üáÆ', 'üá∏üá∞', 'üá∏üá±', 'üá∏üá≤', 'üá∏üá≥', 'üá∏üá¥', 'üá∏üá∑', 'üá∏üá∏', 'üá∏üáπ', 'üá∏üáª', 'üá∏üáΩ', 'üá∏üáæ', 'üá∏üáø', 'üáπüá¶', 'üáπüá®', 'üáπüá©', 'üáπüá´', 'üáπüá¨', 'üáπüá≠', 'üáπüáØ', 'üáπüá∞', 'üáπüá±', 'üáπüá≤', 'üáπüá≥', 'üáπüá¥', 'üáπüá∑', 'üáπüáπ', 'üáπüáª', 'üáπüáº', 'üáπüáø', 'üá∫üá¶', 'üá∫üá¨', 'üá∫üá≤', 'üá∫üá≥', 'üá∫üá∏', 'üá∫üáæ', 'üá∫üáø', 'üáªüá¶', 'üáªüá®', 'üáªüá™', 'üáªüá¨', 'üáªüáÆ', 'üáªüá≥', 'üáªüá∫', 'üáºüá´', 'üáºüá∏', 'üáΩüá∞', 'üáæüá™', 'üáæüáπ', 'üáøüá¶', 'üáøüá≤', 'üáøüáº', 'üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø', 'üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø', 'üè¥Û†ÅßÛ†Å¢Û†Å∑Û†Å¨Û†Å≥Û†Åø'
              ]
            },
            flags: {
              name: 'üèÅ',
              emojis: [
                'üèÅ', 'üö©', 'üéå', 'üè¥', 'üè≥Ô∏è', 'üè≥Ô∏è‚Äçüåà', 'üè≥Ô∏è‚Äç‚ößÔ∏è', 'üè¥‚Äç‚ò†Ô∏è', 'üá¶üá®', 'üá¶üá©', 'üá¶üá™', 'üá¶üá´', 'üá¶üá¨', 'üá¶üáÆ', 'üá¶üá±', 'üá¶üá≤', 'üá¶üá¥', 'üá¶üá∂', 'üá¶üá∑', 'üá¶üá∏', 'üá¶üáπ', 'üá¶üá∫', 'üá¶üáº', 'üá¶üáΩ', 'üá¶üáø', 'üáßüá¶', 'üáßüáß', 'üáßüá©', 'üáßüá™', 'üáßüá´', 'üáßüá¨', 'üáßüá≠', 'üáßüáÆ', 'üáßüáØ', 'üáßüá±', 'üáßüá≤', 'üáßüá≥', 'üáßüá¥', 'üáßüá∂', 'üáßüá∑', 'üáßüá∏', 'üáßüáπ', 'üáßüáª', 'üáßüáº', 'üáßüáæ', 'üáßüáø', 'üá®üá¶', 'üá®üá®', 'üá®üá©', 'üá®üá´', 'üá®üá¨', 'üá®üá≠', 'üá®üáÆ', 'üá®üá∞', 'üá®üá±', 'üá®üá≤', 'üá®üá≥', 'üá®üá¥', 'üá®üáµ', 'üá®üá∑', 'üá®üá∫', 'üá®üáª', 'üá®üáº', 'üá®üáΩ', 'üá®üáæ', 'üá®üáø', 'üá©üá™', 'üá©üá¨', 'üá©üáØ', 'üá©üá∞', 'üá©üá≤', 'üá©üá¥', 'üá©üáø', 'üá™üá¶', 'üá™üá®', 'üá™üá™', 'üá™üá¨', 'üá™üá≠', 'üá™üá∑', 'üá™üá∏', 'üá™üáπ', 'üá™üá∫', 'üá´üáÆ', 'üá´üáØ', 'üá´üá∞', 'üá´üá≤', 'üá´üá¥', 'üá´üá∑', 'üá¨üá¶', 'üá¨üáß', 'üá¨üá©', 'üá¨üá™', 'üá¨üá´', 'üá¨üá¨', 'üá¨üá≠', 'üá¨üáÆ', 'üá¨üá±', 'üá¨üá≤', 'üá¨üá≥', 'üá¨üáµ', 'üá¨üá∂', 'üá¨üá∑', 'üá¨üá∏', 'üá¨üáπ', 'üá¨üá∫', 'üá¨üáº', 'üá¨üáæ', 'üá≠üá∞', 'üá≠üá≤', 'üá≠üá≥', 'üá≠üá∑', 'üá≠üáπ', 'üá≠üá∫', 'üáÆüá®', 'üáÆüá©', 'üáÆüá™', 'üáÆüá±', 'üáÆüá≤', 'üáÆüá≥', 'üáÆüá¥', 'üáÆüá∂', 'üáÆüá∑', 'üáÆüá∏', 'üáÆüáπ', 'üáØüá™', 'üáØüá≤', 'üáØüá¥', 'üáØüáµ', 'üá∞üá™', 'üá∞üá¨', 'üá∞üá≠', 'üá∞üáÆ', 'üá∞üá≤', 'üá∞üá≥', 'üá∞üáµ', 'üá∞üá∑', 'üá∞üáº', 'üá∞üáæ', 'üá∞üáø', 'üá±üá¶', 'üá±üáß', 'üá±üá®', 'üá±üáÆ', 'üá±üá∞', 'üá±üá∑', 'üá±üá∏', 'üá±üáπ', 'üá±üá∫', 'üá±üáª', 'üá±üáæ', 'üá≤üá¶', 'üá≤üá®', 'üá≤üá©', 'üá≤üá™', 'üá≤üá´', 'üá≤üá¨', 'üá≤üá≠', 'üá≤üá∞', 'üá≤üá±', 'üá≤üá≤', 'üá≤üá≥', 'üá≤üá¥', 'üá≤üáµ', 'üá≤üá∂', 'üá≤üá∑', 'üá≤üá∏', 'üá≤üáπ', 'üá≤üá∫', 'üá≤üáª', 'üá≤üáº', 'üá≤üáΩ', 'üá≤üáæ', 'üá≤üáø', 'üá≥üá¶', 'üá≥üá®', 'üá≥üá™', 'üá≥üá´', 'üá≥üá¨', 'üá≥üáÆ', 'üá≥üá±', 'üá≥üá¥', 'üá≥üáµ', 'üá≥üá∑', 'üá≥üá∫', 'üá≥üáø', 'üá¥üá≤', 'üáµüá¶', 'üáµüá™', 'üáµüá´', 'üáµüá¨', 'üáµüá≠', 'üáµüá∞', 'üáµüá±', 'üáµüá≤', 'üáµüá≥', 'üáµüá∑', 'üáµüá∏', 'üáµüáπ', 'üáµüáº', 'üáµüáæ', 'üá∂üá¶', 'üá∑üá™', 'üá∑üá¥', 'üá∑üá∏', 'üá∑üá∫', 'üá∑üáº', 'üá∏üá¶', 'üá∏üáß', 'üá∏üá®', 'üá∏üá©', 'üá∏üá™', 'üá∏üá¨', 'üá∏üá≠', 'üá∏üáÆ', 'üá∏üá∞', 'üá∏üá±', 'üá∏üá≤', 'üá∏üá≥', 'üá∏üá¥', 'üá∏üá∑', 'üá∏üá∏', 'üá∏üáπ', 'üá∏üáª', 'üá∏üáΩ', 'üá∏üáæ', 'üá∏üáø', 'üáπüá¶', 'üáπüá®', 'üáπüá©', 'üáπüá´', 'üáπüá¨', 'üáπüá≠', 'üáπüáØ', 'üáπüá∞', 'üáπüá±', 'üáπüá≤', 'üáπüá≥', 'üáπüá¥', 'üáπüá∑', 'üáπüáπ', 'üáπüáª', 'üáπüáº', 'üáπüáø', 'üá∫üá¶', 'üá∫üá¨', 'üá∫üá≤', 'üá∫üá≥', 'üá∫üá∏', 'üá∫üáæ', 'üá∫üáø', 'üáªüá¶', 'üáªüá®', 'üáªüá™', 'üáªüá¨', 'üáªüáÆ', 'üáªüá≥', 'üáªüá∫', 'üáºüá´', 'üáºüá∏', 'üáΩüá∞', 'üáæüá™', 'üáæüáπ', 'üáøüá¶', 'üáøüá≤', 'üáøüáº', 'üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø', 'üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø', 'üè¥Û†ÅßÛ†Å¢Û†Å∑Û†Å¨Û†Å≥Û†Åø'
              ]
            }
          };
        }

        connectedCallback() {
          this.render();
        }

        disconnectedCallback() {
          // No cleanup needed
        }

        loadRecentEmojis() {
          try {
            const recent = localStorage.getItem('emojiPicker_recent');
            return recent ? JSON.parse(recent) : ['üòä', 'üòÇ', '‚ù§Ô∏è', 'üëç', 'üî•', 'üíØ', 'üëè', 'üôå'];
          } catch (e) {
            return ['üòä', 'üòÇ', '‚ù§Ô∏è', 'üëç', 'üî•', 'üíØ', 'üëè', 'üôå'];
          }
        }

        saveRecentEmojis(emojis) {
          try {
            localStorage.setItem('emojiPicker_recent', JSON.stringify(emojis));
          } catch (e) {
            // Ignore storage errors
          }
        }

        trackEmojiUsage(emoji) {
          // Remove emoji if it already exists
          this.recentEmojis = this.recentEmojis.filter(e => e !== emoji);
          // Add emoji to the beginning
          this.recentEmojis.unshift(emoji);
          // Keep only the first 24 emojis
          this.recentEmojis = this.recentEmojis.slice(0, 24);
          // Save to localStorage
          this.saveRecentEmojis(this.recentEmojis);
          // Update the recent category
          this.categories.recent.emojis = this.recentEmojis.slice(0, 24);
        }




        switchCategory(category) {
          this.currentCategory = category;
          this.render();
        }

        render() {
          // Update recent category with current recent emojis
          this.categories.recent.emojis = this.recentEmojis;

          const style = `
            <style>
              :host {
                display: flex;
                flex-direction: column;
                background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.95) 100%);
                border: 1px solid rgba(255,255,255,0.8);
                border-radius: 20px;
                box-shadow:
                  0 25px 60px rgba(0,0,0,0.15),
                  0 12px 30px rgba(0,0,0,0.1),
                  0 0 0 1px rgba(255,255,255,0.05),
                  0 0 20px rgba(102, 126, 234, 0.08);
                max-width: 380px;
                max-height: 450px;
                overflow: hidden;
                backdrop-filter: blur(24px);
                animation: emojiPickerSlideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                position: relative;
              }

              :host::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 4px;
                background: var(--primary-gradient);
                border-radius: 20px 20px 0 0;
              }

              @keyframes emojiPickerSlideIn {
                from {
                  opacity: 0;
                  transform: translateY(-20px) scale(0.9);
                  filter: blur(8px);
                }
                to {
                  opacity: 1;
                  transform: translateY(0) scale(1);
                  filter: blur(0);
                }
              }


              .category-tabs {
                display: flex;
                border-bottom: 1px solid rgba(0,0,0,0.06);
                background: linear-gradient(135deg, rgba(248,250,252,0.9) 0%, rgba(241,245,249,0.9) 100%);
                overflow-x: auto;
                scrollbar-width: thin;
                padding: 12px 16px;
                gap: 6px;
                position: relative;
              }

              .category-tabs::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 1px;
                background: linear-gradient(90deg, transparent 0%, rgba(102, 126, 234, 0.2) 20%, rgba(102, 126, 234, 0.2) 80%, transparent 100%);
              }

              .category-tabs::-webkit-scrollbar {
                height: 4px;
              }

              .category-tabs::-webkit-scrollbar-track {
                background: rgba(0,0,0,0.03);
                border-radius: 2px;
              }

              .category-tabs::-webkit-scrollbar-thumb {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border-radius: 2px;
                opacity: 0.6;
              }

              .category-tabs::-webkit-scrollbar-thumb:hover {
                opacity: 0.8;
              }

              .category-tab {
                flex-shrink: 0;
                padding: 8px 16px;
                border: 2px solid transparent;
                background: rgba(255,255,255,0.7);
                cursor: pointer;
                font-size: 12px;
                font-weight: 600;
                border-radius: 24px;
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                white-space: nowrap;
                backdrop-filter: blur(10px);
                box-shadow: 0 2px 8px rgba(0,0,0,0.06);
                color: #4a5568;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                position: relative;
                overflow: hidden;
              }

              .category-tab::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
                transition: left 0.5s;
              }

              .category-tab:hover {
                background: rgba(102, 126, 234, 0.1);
                border-color: rgba(102, 126, 234, 0.3);
                transform: translateY(-2px);
                box-shadow: 0 6px 16px rgba(102, 126, 234, 0.15);
                color: #667eea;
              }

              .category-tab:hover::before {
                left: 100%;
              }

              .category-tab.active {
                background: var(--primary-gradient);
                color: white;
                border-color: rgba(255,255,255,0.3);
                transform: translateY(-2px);
                box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
                font-weight: 700;
              }

              .category-tab.active::before {
                background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
              }

              .emoji-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(42px, 1fr));
                gap: 8px;
                padding: 20px 16px;
                overflow-y: auto;
                max-height: 320px;
                scrollbar-width: thin;
                scrollbar-color: rgba(102, 126, 234, 0.4) transparent;
                background: linear-gradient(135deg, rgba(255,255,255,0.3) 0%, rgba(248,250,252,0.3) 100%);
                border-radius: 0 0 20px 20px;
              }

              .emoji-grid::-webkit-scrollbar {
                width: 8px;
              }

              .emoji-grid::-webkit-scrollbar-track {
                background: rgba(0,0,0,0.03);
                border-radius: 4px;
                margin: 4px;
              }

              .emoji-grid::-webkit-scrollbar-thumb {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border-radius: 4px;
                opacity: 0.7;
              }

              .emoji-grid::-webkit-scrollbar-thumb:hover {
                opacity: 0.9;
              }

              .emoji-btn {
                border: 2px solid transparent;
                background: rgba(255,255,255,0.8);
                font-size: 24px;
                cursor: pointer;
                padding: 8px;
                border-radius: 16px;
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                width: 42px;
                height: 42px;
                display: flex;
                align-items: center;
                justify-content: center;
                backdrop-filter: blur(12px);
                box-shadow: 0 4px 12px rgba(0,0,0,0.08);
                position: relative;
                overflow: hidden;
              }

              .emoji-btn::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
                opacity: 0;
                transition: opacity 0.3s ease;
                border-radius: 14px;
              }

              .emoji-btn:hover {
                background: rgba(102, 126, 234, 0.08);
                border-color: rgba(102, 126, 234, 0.2);
                transform: translateY(-3px) scale(1.05);
                box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
              }

              .emoji-btn:hover::before {
                opacity: 1;
              }

              .emoji-btn:active {
                transform: translateY(-1px) scale(0.98);
                transition: all 0.1s ease;
                box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
              }

              /* Selected emoji animation */
              .emoji-btn.selected {
                background: var(--primary-gradient);
                color: white;
                transform: scale(1.1);
                box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
                animation: emojiSelect 0.3s ease;
              }

              @keyframes emojiSelect {
                0% { transform: scale(1); }
                50% { transform: scale(1.2); }
                100% { transform: scale(1.1); }
              }


              /* Enhanced Responsive Design */
              @media (max-width: 1024px) {
                :host {
                  max-width: 380px;
                  max-height: 450px;
                }

                .emoji-grid {
                  grid-template-columns: repeat(auto-fit, minmax(40px, 1fr));
                  gap: 6px;
                  padding: 18px 14px;
                }

                .emoji-btn {
                  width: 40px;
                  height: 40px;
                  font-size: 22px;
                  padding: 6px;
                }

              }

              @media (max-width: 768px) {
                :host {
                  max-width: calc(100vw - 20px);
                  max-height: 60vh;
                  border-radius: 20px;
                  box-shadow: 0 30px 80px rgba(0,0,0,0.4), 0 10px 30px rgba(0,0,0,0.3);
                }

                .category-tabs {
                  padding: 10px 12px;
                  gap: 4px;
                  overflow-x: auto;
                  scrollbar-width: none;
                  -ms-overflow-style: none;
                }

                .category-tabs::-webkit-scrollbar {
                  display: none;
                }

                .emoji-grid {
                  grid-template-columns: repeat(auto-fit, minmax(38px, 1fr));
                  gap: 6px;
                  padding: 16px 12px;
                  max-height: calc(100vh - 280px);
                  overflow-y: auto;
                }

                .emoji-btn {
                  width: 38px;
                  height: 38px;
                  font-size: 20px;
                  padding: 6px;
                  border-radius: 14px;
                }

                .emoji-btn:hover {
                  transform: translateY(-2px) scale(1.08);
                  box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
                }

                .category-tab {
                  padding: 6px 12px;
                  font-size: 11px;
                  font-weight: 600;
                  border-radius: 20px;
                  white-space: nowrap;
                  flex-shrink: 0;
                  margin: 1px;
                }

                .category-tab.active {
                  transform: translateY(-2px);
                  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
                }

              }

              @media (max-width: 480px) {
                :host {
                  max-width: calc(100vw - 20px);
                  max-height: calc(100vh - 60px);
                  border-radius: 16px;
                }


                .category-tabs {
                  padding: 8px 10px;
                  gap: 3px;
                }

                .category-tab {
                  padding: 5px 10px;
                  font-size: 10px;
                  border-radius: 16px;
                  font-weight: 600;
                }

                .emoji-grid {
                  grid-template-columns: repeat(auto-fit, minmax(34px, 1fr));
                  gap: 4px;
                  padding: 14px 10px;
                  max-height: calc(100vh - 240px);
                }

                .emoji-btn {
                  width: 34px;
                  height: 34px;
                  font-size: 18px;
                  padding: 4px;
                  border-radius: 12px;
                }

                .emoji-btn:hover {
                  transform: translateY(-2px) scale(1.05);
                }

              }

              @media (max-width: 360px) {
                :host {
                  max-width: calc(100vw - 16px);
                  max-height: calc(100vh - 40px);
                  border-radius: 12px;
                }


                .category-tabs {
                  padding: 6px 8px;
                  gap: 2px;
                }

                .category-tab {
                  padding: 4px 8px;
                  font-size: 9px;
                  border-radius: 14px;
                  font-weight: 600;
                }

                .emoji-grid {
                  grid-template-columns: repeat(auto-fit, minmax(32px, 1fr));
                  gap: 3px;
                  padding: 12px 8px;
                  max-height: calc(100vh - 200px);
                }

                .emoji-btn {
                  width: 32px;
                  height: 32px;
                  font-size: 16px;
                  padding: 3px;
                  border-radius: 10px;
                }

                .emoji-btn:hover {
                  transform: translateY(-1px) scale(1.02);
                }


              }

              /* Touch device optimizations */
              @media (hover: none) and (pointer: coarse) {
                .emoji-btn {
                  min-width: 48px;
                  min-height: 48px;
                  font-size: 20px;
                }

                .category-tab {
                  min-height: 44px;
                  display: flex;
                  align-items: center;
                  padding: 8px 18px;
                }

                .emoji-btn:hover {
                  transform: none;
                  background: rgba(102, 126, 234, 0.1);
                }

                .category-tab:hover {
                  transform: none;
                  background: rgba(102, 126, 234, 0.1);
                }

              }

              /* High contrast mode support */
              @media (prefers-contrast: high) {
                .emoji-btn {
                  border: 2px solid currentColor;
                }

                .category-tab {
                  border: 1px solid currentColor;
                }

              }

              /* Reduced motion support */
              @media (prefers-reduced-motion: reduce) {
                :host {
                  animation: none;
                }

                .emoji-btn,
                .category-tab {
                  transition: none;
                }

                .emoji-btn:hover,
                .category-tab:hover {
                  transform: none;
                }
              }

              /* Dark mode support */
              @media (prefers-color-scheme: dark) {
                :host {
                  background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
                  border-color: rgba(255,255,255,0.1);
                }


                .category-tabs {
                  background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
                }

                .category-tab {
                  background: rgba(255,255,255,0.1);
                  color: #e2e8f0;
                }

                .category-tab.active {
                  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                }

                .emoji-btn {
                  background: rgba(255,255,255,0.1);
                  border-color: rgba(255,255,255,0.2);
                }

                .no-results {
                  background: rgba(255,255,255,0.1);
                  color: #a0aec0;
                }
              }
            </style>
          `;



          const categoryTabs = Object.keys(this.categories).map(key => {
            const category = this.categories[key];
            return `<button class="category-tab ${key === this.currentCategory ? 'active' : ''}" data-category="${key}">${category.name}</button>`;
          }).join('');

          const currentEmojis = this.categories[this.currentCategory].emojis;
          const emojiButtons = currentEmojis.map(emoji => `<button class="emoji-btn">${emoji}</button>`).join('');

          this.shadowRoot.innerHTML = `
            ${style}
            <div class="category-tabs">${categoryTabs}</div>
            <div class="emoji-grid">${emojiButtons}</div>
          `;


          // Add category tab click handlers
          this.shadowRoot.querySelectorAll('.category-tab').forEach(tab => {
            tab.addEventListener('click', (e) => {
              // Prevent event from bubbling up to document click handler
              e.stopPropagation();

              const category = e.target.dataset.category;
              this.switchCategory(category);
            });
          });

          // Add emoji click handlers
          this.shadowRoot.querySelectorAll('.emoji-btn').forEach((btn, index) => {
            btn.addEventListener('click', (event) => {
              // Prevent event from bubbling up to document click handler
              event.stopPropagation();

              const currentEmojis = this.categories[this.currentCategory].emojis;
              const selectedEmoji = currentEmojis[index];

              // Track emoji usage
              this.trackEmojiUsage(selectedEmoji);

              this.dispatchEvent(new CustomEvent('emoji-click', {
                detail: { unicode: selectedEmoji },
                bubbles: false, // Don't bubble to avoid triggering document listener
                composed: true
              }));
            });
          });
        }
      }

      // Register the custom element
      customElements.define('simple-emoji-picker', SimpleEmojiPicker);
    </script>

    <!-- Context menu for message actions -->
    <div id="message-context-menu" style="display: none; position: fixed; background: white; border: 1px solid #ccc; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 1000; min-width: 150px;">
      <div id="context-menu-reply" style="padding: 12px 16px; cursor: pointer; border-bottom: 1px solid #eee;">Reply</div>
      <div id="context-menu-copy" style="padding: 12px 16px; cursor: pointer; border-bottom: 1px solid #eee;">Copy Message</div>
      <div id="context-menu-edit" style="padding: 12px 16px; cursor: pointer; border-bottom: 1px solid #eee; display: block;">Edit Message</div>
      <div id="context-menu-delete" style="padding: 12px 16px; cursor: pointer; color: #dc3545;">Delete Message</div>
    </div>

    <!-- Footer -->
    <footer id="footer">
      Made with lots of ‚ù§Ô∏è
    </footer>

    <!-- Made for J Modal -->
    <div id="madeForJModal" class="modal-overlay">
      <div class="modal-content">
        <h1>‚ú® Made For J ‚ú®</h1>
        <p>This amazing chat application was created with dedication and passion.</p>
        <p>Thank you for being part of this journey! üíú</p>
        <button class="modal-close" onclick="closeMadeForJModal()">Close</button>
      </div>
    </div>

    <script src="/app.js"></script>
    <script>
      // Long press detection for footer
      const footer = document.getElementById('footer');
      const modal = document.getElementById('madeForJModal');
      let pressTimer = null;

      footer.addEventListener('touchstart', (e) => {
        pressTimer = setTimeout(() => {
          openMadeForJModal();
        }, 600); // 600ms long press
      });

      footer.addEventListener('touchend', () => {
        if (pressTimer) {
          clearTimeout(pressTimer);
          pressTimer = null;
        }
      });

      footer.addEventListener('touchmove', () => {
        if (pressTimer) {
          clearTimeout(pressTimer);
          pressTimer = null;
        }
      });

      // Desktop long press with mouse
      let mouseDownTime = 0;
      footer.addEventListener('mousedown', () => {
        mouseDownTime = Date.now();
      });

      footer.addEventListener('mouseup', () => {
        const pressDuration = Date.now() - mouseDownTime;
        if (pressDuration > 600) {
          openMadeForJModal();
        }
      });

      footer.addEventListener('mouseleave', () => {
        mouseDownTime = 0;
      });

      function openMadeForJModal() {
        modal.classList.add('show');
      }

      function closeMadeForJModal() {
        modal.classList.remove('show');
      }

      // Close modal when clicking outside
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          closeMadeForJModal();
        }
      });

      // Close modal with ESC key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          closeMadeForJModal();
        }
      });
    </script>
  </body>
</html>
